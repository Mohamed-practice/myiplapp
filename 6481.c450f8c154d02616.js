"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6481],{6481:(ot,mt,ge)=>{ge.r(mt),ge.d(mt,{AiGenerateFormComponent:()=>ap});var P=ge(4438),We=ge(4341),De=ge(177),tt=ge(1610),ht=ge(7521),x=ge(467);function se(e,r){this.v=e,this.k=r}function te(e){var r,t;function n(s,o){try{var i=e[s](o),l=i.value,u=l instanceof se;Promise.resolve(u?l.v:l).then(function(c){if(u){var d="return"===s?"return":"next";if(!l.k||c.done)return n(d,c);c=e[d](c).value}a(i.done?"return":"normal",c)},function(c){n("throw",c)})}catch(c){a("throw",c)}}function a(s,o){switch(s){case"return":r.resolve({value:o,done:!0});break;case"throw":r.reject(o);break;default:r.resolve({value:o,done:!1})}(r=r.next)?n(r.key,r.arg):t=null}this._invoke=function(s,o){return new Promise(function(i,l){var u={key:s,arg:o,resolve:i,reject:l,next:null};t?t=t.next=u:(r=t=u,n(s,o))})},"function"!=typeof e.return&&(this.return=void 0)}te.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},te.prototype.next=function(e){return this._invoke("next",e)},te.prototype.throw=function(e){return this._invoke("throw",e)},te.prototype.return=function(e){return this._invoke("return",e)};var Ie,fe="vercel.ai.error",Pe=Symbol.for(fe),He=class Fo extends Error{constructor({name:r,message:t,cause:n}){super(t),this[Ie]=!0,this.name=r,this.cause=n}static isInstance(r){return Fo.hasMarker(r,fe)}static hasMarker(r,t){const n=Symbol.for(t);return null!=r&&"object"==typeof r&&n in r&&"boolean"==typeof r[n]&&!0===r[n]}toJSON(){return{name:this.name,message:this.message}}};Ie=Pe;var Ia,N=He,it="AI_APICallError",Ea=`vercel.ai.error.${it}`,Bo=Symbol.for(Ea),Fe=class extends N{constructor({message:e,url:r,requestBodyValues:t,statusCode:n,responseHeaders:a,responseBody:s,cause:o,isRetryable:i=null!=n&&(408===n||409===n||429===n||n>=500),data:l}){super({name:it,message:e,cause:o}),this[Ia]=!0,this.url=r,this.requestBodyValues=t,this.statusCode=n,this.responseHeaders=a,this.responseBody=s,this.isRetryable=i,this.data=l}static isInstance(e){return N.hasMarker(e,Ea)}static isAPICallError(e){return!(!(e instanceof Error&&e.name===it&&"string"==typeof e.url&&"object"==typeof e.requestBodyValues)||null!=e.statusCode&&"number"!=typeof e.statusCode||null!=e.responseHeaders&&"object"!=typeof e.responseHeaders||null!=e.responseBody&&"string"!=typeof e.responseBody||null!=e.cause&&"object"!=typeof e.cause||"boolean"!=typeof e.isRetryable||null!=e.data&&"object"!=typeof e.data)}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};Ia=Bo;var Aa,Lr="AI_EmptyResponseBodyError",Ca=`vercel.ai.error.${Lr}`,Vo=Symbol.for(Ca),zo=class extends N{constructor({message:e="Empty response body"}={}){super({name:Lr,message:e}),this[Aa]=!0}static isInstance(e){return N.hasMarker(e,Ca)}static isEmptyResponseBodyError(e){return e instanceof Error&&e.name===Lr}};function Jr(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}Aa=Vo;var Oa,Na="AI_InvalidArgumentError",Ra=`vercel.ai.error.${Na}`,Wo=Symbol.for(Ra),Ho=class extends N{constructor({message:e,cause:r,argument:t}){super({name:Na,message:e,cause:r}),this[Oa]=!0,this.argument=t}static isInstance(e){return N.hasMarker(e,Ra)}};Oa=Wo;var Ma,Fr="AI_InvalidPromptError",Pa=`vercel.ai.error.${Fr}`,Yo=Symbol.for(Pa),gt=class extends N{constructor({prompt:e,message:r,cause:t}){super({name:Fr,message:`Invalid prompt: ${r}`,cause:t}),this[Ma]=!0,this.prompt=e}static isInstance(e){return N.hasMarker(e,Pa)}static isInvalidPromptError(e){return e instanceof Error&&e.name===Fr&&null!=prompt}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};Ma=Yo;Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var Za,Vr="AI_JSONParseError",$a=`vercel.ai.error.${Vr}`,Xo=Symbol.for($a),gr=class extends N{constructor({text:e,cause:r}){super({name:Vr,message:`JSON parsing failed: Text: ${e}.\nError message: ${Jr(r)}`,cause:r}),this[Za]=!0,this.text=e}static isInstance(e){return N.hasMarker(e,$a)}static isJSONParseError(e){return e instanceof Error&&e.name===Vr&&"text"in e&&"string"==typeof e.text}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};Za=Xo;var Ga,zr="AI_LoadAPIKeyError",Ua=`vercel.ai.error.${zr}`,Qo=Symbol.for(Ua),yr=class extends N{constructor({message:e}){super({name:zr,message:e}),this[Ga]=!0}static isInstance(e){return N.hasMarker(e,Ua)}static isLoadAPIKeyError(e){return e instanceof Error&&e.name===zr}};Ga=Qo;Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError");var Wa,Kr="AI_TooManyEmbeddingValuesForCallError",za=`vercel.ai.error.${Kr}`,ai=Symbol.for(za),si=class extends N{constructor(e){super({name:Kr,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[Wa]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return N.hasMarker(e,za)}static isTooManyEmbeddingValuesForCallError(e){return e instanceof Error&&e.name===Kr&&"provider"in e&&"string"==typeof e.provider&&"modelId"in e&&"string"==typeof e.modelId&&"maxEmbeddingsPerCall"in e&&"number"==typeof e.maxEmbeddingsPerCall&&"values"in e&&Array.isArray(e.values)}toJSON(){return{name:this.name,message:this.message,stack:this.stack,provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:this.values}}};Wa=ai;var Ya,Xr="AI_TypeValidationError",Ha=`vercel.ai.error.${Xr}`,oi=Symbol.for(Ha);Ya=oi;var Xa,vr=class ka extends N{constructor({value:r,cause:t}){super({name:Xr,message:`Type validation failed: Value: ${JSON.stringify(r)}.\nError message: ${Jr(t)}`,cause:t}),this[Ya]=!0,this.value=r}static isInstance(r){return N.hasMarker(r,Ha)}static wrap({value:r,cause:t}){return ka.isInstance(t)&&t.value===r?t:new ka({value:r,cause:t})}static isTypeValidationError(r){return r instanceof Error&&r.name===Xr}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}},Qr="AI_UnsupportedFunctionalityError",Ka=`vercel.ai.error.${Qr}`,li=Symbol.for(Ka),_r=class extends N{constructor({functionality:e}){super({name:Qr,message:`'${e}' functionality not supported.`}),this[Xa]=!0,this.functionality=e}static isInstance(e){return N.hasMarker(e,Ka)}static isUnsupportedFunctionalityError(e){return e instanceof Error&&e.name===Qr&&"string"==typeof e.functionality}toJSON(){return{name:this.name,message:this.message,stack:this.stack,functionality:this.functionality}}};Xa=li;var Qa=ge(7592);const es=[239,187,191];class fi extends TransformStream{constructor(){let r;super({start(t){r=function di(e){let r,t,n,a,s,o,i;return l(),{feed:function u(d){t=t?t+d:d,r&&function pi(e){return es.every((r,t)=>e.charCodeAt(t)===r)}(t)&&(t=t.slice(es.length)),r=!1;const p=t.length;let f=0,h=!1;for(;f<p;){h&&("\n"===t[f]&&++f,h=!1);let g,_=-1,C=a;for(let b=n;_<0&&b<p;++b)g=t[b],":"===g&&C<0?C=b-f:"\r"===g?(h=!0,_=b-f):"\n"===g&&(_=b-f);if(_<0){n=p-f,a=C;break}n=0,a=-1,c(t,f,C,_),f+=_+1}f===p?t="":f>0&&(t=t.slice(f))},reset:l};function l(){r=!0,t="",n=0,a=-1,s=void 0,o=void 0,i=""}function c(d,p,f,h){if(0===h)return i.length>0&&(e({type:"event",id:s,event:o||void 0,data:i.slice(0,-1)}),i="",s=void 0),void(o=void 0);const _=f<0,C=d.slice(p,p+(_?h:f));let g=0;g=_?h:" "===d[p+f+1]?f+2:f+1;const b=p+g,w=d.slice(b,b+(h-g)).toString();if("data"===C)i+=w?"".concat(w,"\n"):"\n";else if("event"===C)o=w;else if("id"!==C||w.includes("\0")){if("retry"===C){const R=parseInt(w,10);Number.isNaN(R)||e({type:"reconnect-interval",value:R})}}else s=w}}(n=>{"event"===n.type&&t.enqueue(n)})},transform(t){r.feed(t)}})}}function en(...e){return e.reduce((r,t)=>({...r,...null!=t?t:{}}),{})}function jt(e){const r={};return e.headers.forEach((t,n)=>{r[n]=t}),r}var Dt=({prefix:e,size:r=7,alphabet:t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const a=((e,r=21)=>(t=r)=>{let n="",a=t;for(;a--;)n+=e[Math.random()*e.length|0];return n})(t,r);if(null==e)return a;if(t.includes(n))throw new Ho({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${t}".`});return s=>`${e}${n}${a(s)}`},mi=Dt();function xr(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function gi({apiKey:e,environmentVariableName:r,apiKeyParameterName:t="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new yr({message:`${n} API key must be a string.`});if(typeof process>"u")throw new yr({message:`${n} API key is missing. Pass it using the '${t}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[r]))throw new yr({message:`${n} API key is missing. Pass it using the '${t}' parameter or the ${r} environment variable.`});if("string"!=typeof e)throw new yr({message:`${n} API key must be a string. The value of the ${r} environment variable is not a string.`});return e}var Tr=Symbol.for("vercel.ai.validator");function wr({value:e,schema:r}){const t=function _i(e){return function vi(e){return"object"==typeof e&&null!==e&&Tr in e&&!0===e[Tr]&&"validate"in e}(e)?e:function bi(e){return function yi(e){return{[Tr]:!0,validate:e}}(r=>{const t=e.safeParse(r);return t.success?{success:!0,value:t.data}:{success:!1,error:t.error}})}(e)}(r);try{if(null==t.validate)return{success:!0,value:e};const n=t.validate(e);return n.success?n:{success:!1,error:vr.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:vr.wrap({value:e,cause:n})}}}function Sr({text:e,schema:r}){try{const t=Qa.parse(e);return null==r?{success:!0,value:t}:wr({value:t,schema:r})}catch(t){return{success:!1,error:gr.isJSONParseError(t)?t:new gr({text:e,cause:t})}}}function wi(e){return Object.fromEntries(Object.entries(e).filter(([r,t])=>null!=t))}var Si=()=>globalThis.fetch,tn=function(){var e=(0,x.A)(function*({url:r,headers:t,body:n,failedResponseHandler:a,successfulResponseHandler:s,abortSignal:o,fetch:i}){return ki({url:r,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:a,successfulResponseHandler:s,abortSignal:o,fetch:i})});return function(t){return e.apply(this,arguments)}}(),ki=function(){var e=(0,x.A)(function*({url:r,headers:t={},body:n,successfulResponseHandler:a,failedResponseHandler:s,abortSignal:o,fetch:i=Si()}){try{const l=yield i(r,{method:"POST",headers:wi(t),body:n.content,signal:o}),u=jt(l);if(!l.ok){let c;try{c=yield s({response:l,url:r,requestBodyValues:n.values})}catch(d){throw xr(d)||Fe.isAPICallError(d)?d:new Fe({message:"Failed to process error response",cause:d,statusCode:l.status,url:r,responseHeaders:u,requestBodyValues:n.values})}throw c.value}try{return yield a({response:l,url:r,requestBodyValues:n.values})}catch(c){throw c instanceof Error&&(xr(c)||Fe.isAPICallError(c))?c:new Fe({message:"Failed to process successful response",cause:c,statusCode:l.status,url:r,responseHeaders:u,requestBodyValues:n.values})}}catch(l){if(xr(l))throw l;if(l instanceof TypeError&&"fetch failed"===l.message){const u=l.cause;if(null!=u)throw new Fe({message:`Cannot connect to API: ${u.message}`,cause:u,url:r,requestBodyValues:n.values,isRetryable:!0})}throw l}});return function(t){return e.apply(this,arguments)}}(),Ii=e=>function(){var r=(0,x.A)(function*({response:t}){const n=jt(t);if(null==t.body)throw new zo({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new fi).pipeThrough(new TransformStream({transform({data:a},s){"[DONE]"!==a&&s.enqueue(Sr({text:a,schema:e}))}}))}});return function(t){return r.apply(this,arguments)}}(),ts=e=>function(){var r=(0,x.A)(function*({response:t,url:n,requestBodyValues:a}){const s=yield t.text(),o=Sr({text:s,schema:e}),i=jt(t);if(!o.success)throw new Fe({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:i,responseBody:s,url:n,requestBodyValues:a});return{responseHeaders:i,value:o.value}});return function(t){return r.apply(this,arguments)}}(),{btoa:Ci,atob:Ai}=globalThis;function rn(e){let r="";for(let t=0;t<e.length;t++)r+=String.fromCodePoint(e[t]);return Ci(r)}var Oi="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},lt="1.9.0",rs=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,Mi=function Pi(e){var r=new Set([e]),t=new Set,n=e.match(rs);if(!n)return function(){return!1};var a_major=+n[1],a_minor=+n[2],a_patch=+n[3];if(null!=n[4])return function(l){return l===e};function s(i){return t.add(i),!1}function o(i){return r.add(i),!0}return function(l){if(r.has(l))return!0;if(t.has(l))return!1;var u=l.match(rs);if(!u)return s(l);var c_minor=+u[2],c_patch=+u[3];return null!=u[4]||a_major!==+u[1]?s(l):0===a_major?a_minor===c_minor&&a_patch<=c_patch?o(l):s(l):a_minor<=c_minor?o(l):s(l)}}(lt),ji=lt.split(".")[0],$t=Symbol.for("opentelemetry.js.api."+ji),Zt=Oi;function nn(e,r,t,n){var a;void 0===n&&(n=!1);var s=Zt[$t]=null!==(a=Zt[$t])&&void 0!==a?a:{version:lt};if(!n&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return t.error(o.stack||o.message),!1}return s.version!==lt?(o=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+lt),t.error(o.stack||o.message),!1):(s[e]=r,t.debug("@opentelemetry/api: Registered a global for "+e+" v"+lt+"."),!0)}function Ut(e){var r,t,n=null===(r=Zt[$t])||void 0===r?void 0:r.version;if(n&&Mi(n))return null===(t=Zt[$t])||void 0===t?void 0:t[e]}function an(e,r){r.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+lt+".");var t=Zt[$t];t&&delete t[e]}var $i=function(){return function e(r){var t=this;t._currentContext=r?new Map(r):new Map,t.getValue=function(n){return t._currentContext.get(n)},t.setValue=function(n,a){var s=new e(t._currentContext);return s._currentContext.set(n,a),s},t.deleteValue=function(n){var a=new e(t._currentContext);return a._currentContext.delete(n),a}}}(),Zi=new $i,qi=function(){function e(){}return e.prototype.active=function(){return Zi},e.prototype.with=function(r,t,n){for(var a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return t.call.apply(t,function(e,r,t){if(t||2===arguments.length)for(var s,n=0,a=r.length;n<a;n++)(s||!(n in r))&&(s||(s=Array.prototype.slice.call(r,0,n)),s[n]=r[n]);return e.concat(s||Array.prototype.slice.call(r))}([n],function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,o,n=t.call(e),s=[];try{for(;(void 0===r||r-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}(a),!1))},e.prototype.bind=function(r,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Fi=function(){function e(r){this._namespace=r.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Gt("debug",this._namespace,r)},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Gt("error",this._namespace,r)},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Gt("info",this._namespace,r)},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Gt("warn",this._namespace,r)},e.prototype.verbose=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Gt("verbose",this._namespace,r)},e}();function Gt(e,r,t){var n=Ut("diag");if(n)return t.unshift(r),n[e].apply(n,function(e,r,t){if(t||2===arguments.length)for(var s,n=0,a=r.length;n<a;n++)(s||!(n in r))&&(s||(s=Array.prototype.slice.call(r,0,n)),s[n]=r[n]);return e.concat(s||Array.prototype.slice.call(r))}([],function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,o,n=t.call(e),s=[];try{for(;(void 0===r||r-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}(t),!1))}var $e=function(e){return e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL",e}($e||{}),kr=function(){function e(){function r(a){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var i=Ut("diag");if(i)return i[a].apply(i,function(e,r,t){if(t||2===arguments.length)for(var s,n=0,a=r.length;n<a;n++)(s||!(n in r))&&(s||(s=Array.prototype.slice.call(r,0,n)),s[n]=r[n]);return e.concat(s||Array.prototype.slice.call(r))}([],function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,o,n=t.call(e),s=[];try{for(;(void 0===r||r-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}(s),!1))}}var t=this;t.setLogger=function(a,s){var o,i,l;if(void 0===s&&(s={logLevel:$e.INFO}),a===t){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(o=u.stack)&&void 0!==o?o:u.message),!1}"number"==typeof s&&(s={logLevel:s});var c=Ut("diag"),d=function Bi(e,r){function t(n,a){var s=r[n];return"function"==typeof s&&e>=a?s.bind(r):function(){}}return e<$e.NONE?e=$e.NONE:e>$e.ALL&&(e=$e.ALL),r=r||{},{error:t("error",$e.ERROR),warn:t("warn",$e.WARN),info:t("info",$e.INFO),debug:t("debug",$e.DEBUG),verbose:t("verbose",$e.VERBOSE)}}(null!==(i=s.logLevel)&&void 0!==i?i:$e.INFO,a);if(c&&!s.suppressOverrideMessage){var p=null!==(l=(new Error).stack)&&void 0!==l?l:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return nn("diag",d,t,!0)},t.disable=function(){an("diag",t)},t.createComponentLogger=function(a){return new Fi(a)},t.verbose=r("verbose"),t.debug=r("debug"),t.info=r("info"),t.warn=r("warn"),t.error=r("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),sn="context",Ki=new qi,ns=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(r){return nn(sn,r,kr.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(r,t,n){for(var a,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(a=this._getContextManager()).with.apply(a,function(e,r,t){if(t||2===arguments.length)for(var s,n=0,a=r.length;n<a;n++)(s||!(n in r))&&(s||(s=Array.prototype.slice.call(r,0,n)),s[n]=r[n]);return e.concat(s||Array.prototype.slice.call(r))}([r,t,n],function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,o,n=t.call(e),s=[];try{for(;(void 0===r||r-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}(s),!1))},e.prototype.bind=function(r,t){return this._getContextManager().bind(r,t)},e.prototype._getContextManager=function(){return Ut(sn)||Ki},e.prototype.disable=function(){this._getContextManager().disable(),an(sn,kr.instance())},e}(),as=function(e){return e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED",e}(as||{}),ss="0000000000000000",os="00000000000000000000000000000000",Xi={traceId:os,spanId:ss,traceFlags:as.NONE},qt=function(){function e(r){void 0===r&&(r=Xi),this._spanContext=r}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(r,t){return this},e.prototype.setAttributes=function(r){return this},e.prototype.addEvent=function(r,t){return this},e.prototype.addLink=function(r){return this},e.prototype.addLinks=function(r){return this},e.prototype.setStatus=function(r){return this},e.prototype.updateName=function(r){return this},e.prototype.end=function(r){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(r,t){},e}(),on=function Di(e){return Symbol.for(e)}("OpenTelemetry Context Key SPAN");function ln(e){return e.getValue(on)||void 0}function Qi(){return ln(ns.getInstance().active())}function un(e,r){return e.setValue(on,r)}function el(e){return e.deleteValue(on)}function tl(e,r){return un(e,new qt(r))}function is(e){var r;return null===(r=ln(e))||void 0===r?void 0:r.spanContext()}var rl=/^([0-9a-f]{32})$/i,nl=/^[0-9a-f]{16}$/i;function ls(e){return function al(e){return rl.test(e)&&e!==os}(e.traceId)&&function sl(e){return nl.test(e)&&e!==ss}(e.spanId)}function ol(e){return new qt(e)}var q,e,cn=ns.getInstance(),us=function(){function e(){}return e.prototype.startSpan=function(r,t,n){if(void 0===n&&(n=cn.active()),null!=t&&t.root)return new qt;var s=n&&is(n);return function il(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(s)&&ls(s)?new qt(s):new qt},e.prototype.startActiveSpan=function(r,t,n,a){var s,o,i;if(!(arguments.length<2)){2===arguments.length?i=t:3===arguments.length?(s=t,i=n):(s=t,o=n,i=a);var l=null!=o?o:cn.active(),u=this.startSpan(r,s,l),c=un(l,u);return cn.with(c,i,void 0,u)}},e}(),ll=new us,ul=function(){function e(r,t,n,a){this._provider=r,this.name=t,this.version=n,this.options=a}return e.prototype.startSpan=function(r,t,n){return this._getTracer().startSpan(r,t,n)},e.prototype.startActiveSpan=function(r,t,n,a){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var r=this._provider.getDelegateTracer(this.name,this.version,this.options);return r?(this._delegate=r,this._delegate):ll},e}(),cl=function(){function e(){}return e.prototype.getTracer=function(r,t,n){return new us},e}(),dl=new cl,cs=function(){function e(){}return e.prototype.getTracer=function(r,t,n){var a;return null!==(a=this.getDelegateTracer(r,t,n))&&void 0!==a?a:new ul(this,r,t,n)},e.prototype.getDelegate=function(){var r;return null!==(r=this._delegate)&&void 0!==r?r:dl},e.prototype.setDelegate=function(r){this._delegate=r},e.prototype.getDelegateTracer=function(r,t,n){var a;return null===(a=this._delegate)||void 0===a?void 0:a.getTracer(r,t,n)},e}(),dn="trace",pl=function(){function e(){this._proxyTracerProvider=new cs,this.wrapSpanContext=ol,this.isSpanContextValid=ls,this.deleteSpan=el,this.getSpan=ln,this.getActiveSpan=Qi,this.getSpanContext=is,this.setSpan=un,this.setSpanContext=tl}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(r){var t=nn(dn,this._proxyTracerProvider,kr.instance());return t&&this._proxyTracerProvider.setDelegate(r),t},e.prototype.getTracerProvider=function(){return Ut(dn)||this._proxyTracerProvider},e.prototype.getTracer=function(r,t){return this.getTracerProvider().getTracer(r,t)},e.prototype.disable=function(){an(dn,kr.instance()),this._proxyTracerProvider=new cs},e}(),fl=pl.getInstance(),pn=function(e){return e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e}(pn||{});(e=q||(q={})).assertEqual=a=>a,e.assertIs=function r(a){},e.assertNever=function t(a){throw new Error},e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(i=>"number"!=typeof a[a[i]]),o={};for(const i of s)o[i]=a[i];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&isFinite(a)&&Math.floor(a)===a,e.joinValues=function n(a,s=" | "){return a.map(o=>"string"==typeof o?`'${o}'`:o).join(s)},e.jsonStringifyReplacer=(a,s)=>"bigint"==typeof s?s.toString():s;var ds=function(e){return e.mergeShapes=(r,t)=>({...r,...t}),e}(ds||{});const E=q.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rt=e=>{switch(typeof e){case"undefined":return E.undefined;case"string":return E.string;case"number":return isNaN(e)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":return Array.isArray(e)?E.array:null===e?E.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?E.promise:typeof Map<"u"&&e instanceof Map?E.map:typeof Set<"u"&&e instanceof Set?E.set:typeof Date<"u"&&e instanceof Date?E.date:E.object;default:return E.unknown}},y=q.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let Ye=(()=>{class e extends Error{constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},a={_errors:[]},s=o=>{for(const i of o.issues)if("invalid_union"===i.code)i.unionErrors.map(s);else if("invalid_return_type"===i.code)s(i.returnTypeError);else if("invalid_arguments"===i.code)s(i.argumentsError);else if(0===i.path.length)a._errors.push(n(i));else{let l=a,u=0;for(;u<i.path.length;){const c=i.path[u];u===i.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(i))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return s(this),a}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,q.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=(n=>n.message)){const n={},a=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):a.push(t(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}return e.create=r=>new e(r),e})();const yt=(e,r)=>{let t;switch(e.code){case y.invalid_type:t=e.received===E.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case y.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(e.expected,q.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:t=`Unrecognized key(s) in object: ${q.joinValues(e.keys,", ")}`;break;case y.invalid_union:t="Invalid input";break;case y.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${q.joinValues(e.options)}`;break;case y.invalid_enum_value:t=`Invalid enum value. Expected ${q.joinValues(e.options)}, received '${e.received}'`;break;case y.invalid_arguments:t="Invalid function arguments";break;case y.invalid_return_type:t="Invalid function return type";break;case y.invalid_date:t="Invalid date";break;case y.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(t=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(t=`${t} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?t=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?t=`Invalid input: must end with "${e.validation.endsWith}"`:q.assertNever(e.validation):t="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case y.too_small:t="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case y.too_big:t="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case y.custom:t="Invalid input";break;case y.invalid_intersection_types:t="Intersection results could not be merged";break;case y.not_multiple_of:t=`Number must be a multiple of ${e.multipleOf}`;break;case y.not_finite:t="Number must be finite";break;default:t=r.defaultError,q.assertNever(e)}return{message:t}};let ps=yt;function Er(){return ps}const Ir=e=>{const{data:r,path:t,errorMaps:n,issueData:a}=e,s=[...t,...a.path||[]],o={...a,path:s};if(void 0!==a.message)return{...a,path:s,message:a.message};let i="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)i=u(o,{data:r,defaultError:i}).message;return{...a,path:s,message:i}};function S(e,r){const t=Er(),n=Ir({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,t,t===yt?void 0:yt].filter(a=>!!a)});e.common.issues.push(n)}class ye{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(r,t){const n=[];for(const a of t){if("aborted"===a.status)return O;"dirty"===a.status&&r.dirty(),n.push(a.value)}return{status:r.value,value:n}}static mergeObjectAsync(r,t){return(0,x.A)(function*(){const n=[];for(const a of t){const s=yield a.key,o=yield a.value;n.push({key:s,value:o})}return ye.mergeObjectSync(r,n)})()}static mergeObjectSync(r,t){const n={};for(const a of t){const{key:s,value:o}=a;if("aborted"===s.status||"aborted"===o.status)return O;"dirty"===s.status&&r.dirty(),"dirty"===o.status&&r.dirty(),"__proto__"!==s.value&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:r.value,value:n}}}const O=Object.freeze({status:"aborted"}),vt=e=>({status:"dirty",value:e}),Te=e=>({status:"valid",value:e}),fn=e=>"aborted"===e.status,mn=e=>"dirty"===e.status,Lt=e=>"valid"===e.status,Jt=e=>typeof Promise<"u"&&e instanceof Promise;function Cr(e,r,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(e):n?n.value:r.get(e)}function fs(e,r,t,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?e!==r||!a:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,t):a?a.value=t:r.set(e,t),t}"function"==typeof SuppressedError&&SuppressedError;var Ft,Bt,A=function(e){return e.errToObj=r=>"string"==typeof r?{message:r}:r||{},e.toString=r=>"string"==typeof r?r:null==r?void 0:r.message,e}(A||{});class Be{constructor(r,t,n,a){this._cachedPath=[],this.parent=r,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ms=(e,r)=>{if(Lt(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ye(e.common.issues);return this._error=t,this._error}}};function j(e){if(!e)return{};const{errorMap:r,invalid_type_error:t,required_error:n,description:a}=e;if(r&&(t||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return r?{errorMap:r,description:a}:{errorMap:(o,i)=>{var l,u;const{message:c}=e;return"invalid_enum_value"===o.code?{message:null!=c?c:i.defaultError}:typeof i.data>"u"?{message:null!==(l=null!=c?c:n)&&void 0!==l?l:i.defaultError}:"invalid_type"!==o.code?{message:i.defaultError}:{message:null!==(u=null!=c?c:t)&&void 0!==u?u:i.defaultError}},description:a}}class ${constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return rt(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:rt(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new ye,ctx:{common:r.parent.common,data:r.data,parsedType:rt(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const t=this._parse(r);if(Jt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){const t=this._parse(r);return Promise.resolve(t)}parse(r,t){const n=this.safeParse(r,t);if(n.success)return n.data;throw n.error}safeParse(r,t){var n;const a={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:rt(r)},s=this._parseSync({data:r,path:a.path,parent:a});return ms(a,s)}parseAsync(r,t){var n=this;return(0,x.A)(function*(){const a=yield n.safeParseAsync(r,t);if(a.success)return a.data;throw a.error})()}safeParseAsync(r,t){var n=this;return(0,x.A)(function*(){const a={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:n._def.errorMap,parent:null,data:r,parsedType:rt(r)},s=n._parse({data:r,path:a.path,parent:a}),o=yield Jt(s)?s:Promise.resolve(s);return ms(a,o)})()}refine(r,t){const n=a=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(a):t;return this._refinement((a,s)=>{const o=r(a),i=()=>s.addIssue({code:y.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>!!l||(i(),!1)):!!o||(i(),!1)})}refinement(r,t){return this._refinement((n,a)=>!!r(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1))}_refinement(r){return new ct({schema:this,typeName:v.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return at.create(this,this._def)}nullable(){return wt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zt.create(this,this._def)}promise(){return Or.create(this,this._def)}or(r){return Tn.create([this,r],this._def)}and(r){return Sn.create(this,r,this._def)}transform(r){return new ct({...j(this._def),schema:this,typeName:v.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const t="function"==typeof r?r:()=>r;return new In({...j(this._def),innerType:this,defaultValue:t,typeName:v.ZodDefault})}brand(){return new An({typeName:v.ZodBranded,type:this,...j(this._def)})}catch(r){const t="function"==typeof r?r:()=>r;return new Cn({...j(this._def),innerType:this,catchValue:t,typeName:v.ZodCatch})}describe(r){return new(0,this.constructor)({...this._def,description:r})}pipe(r){return Yt.create(this,r)}readonly(){return Nn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yl=/^c[^\s-]{8,}$/i,vl=/^[0-9a-z]+$/,_l=/^[0-9A-HJKMNP-TV-Z]{26}$/,bl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xl=/^[a-z0-9_-]{21}$/i,Tl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let hn;const kl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,El=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Il=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hs="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Cl=new RegExp(`^${hs}$`);function gs(e){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?r=`${r}\\.\\d{${e.precision}}`:null==e.precision&&(r=`${r}(\\.\\d+)?`),r}function Al(e){return new RegExp(`^${gs(e)}$`)}function ys(e){let r=`${hs}T${gs(e)}`;const t=[];return t.push(e.local?"Z?":"Z"),e.offset&&t.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${t.join("|")})`,new RegExp(`^${r}$`)}function Nl(e,r){return!(("v4"!==r&&r||!kl.test(e))&&("v6"!==r&&r||!El.test(e)))}let Ar=(()=>{class e extends ${_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==E.string){const o=this._getOrReturnCtx(t);return S(o,{code:y.invalid_type,expected:E.string,received:o.parsedType}),O}const a=new ye;let s;for(const o of this._def.checks)if("min"===o.kind)t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),S(s,{code:y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if("max"===o.kind)t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),S(s,{code:y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if("length"===o.kind){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?S(s,{code:y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&S(s,{code:y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),a.dirty())}else if("email"===o.kind)wl.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"email",code:y.invalid_string,message:o.message}),a.dirty());else if("emoji"===o.kind)hn||(hn=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),hn.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"emoji",code:y.invalid_string,message:o.message}),a.dirty());else if("uuid"===o.kind)bl.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"uuid",code:y.invalid_string,message:o.message}),a.dirty());else if("nanoid"===o.kind)xl.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"nanoid",code:y.invalid_string,message:o.message}),a.dirty());else if("cuid"===o.kind)yl.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"cuid",code:y.invalid_string,message:o.message}),a.dirty());else if("cuid2"===o.kind)vl.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"cuid2",code:y.invalid_string,message:o.message}),a.dirty());else if("ulid"===o.kind)_l.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"ulid",code:y.invalid_string,message:o.message}),a.dirty());else if("url"===o.kind)try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),S(s,{validation:"url",code:y.invalid_string,message:o.message}),a.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"regex",code:y.invalid_string,message:o.message}),a.dirty())):"trim"===o.kind?t.data=t.data.trim():"includes"===o.kind?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),S(s,{code:y.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),a.dirty()):"toLowerCase"===o.kind?t.data=t.data.toLowerCase():"toUpperCase"===o.kind?t.data=t.data.toUpperCase():"startsWith"===o.kind?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),S(s,{code:y.invalid_string,validation:{startsWith:o.value},message:o.message}),a.dirty()):"endsWith"===o.kind?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),S(s,{code:y.invalid_string,validation:{endsWith:o.value},message:o.message}),a.dirty()):"datetime"===o.kind?ys(o).test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{code:y.invalid_string,validation:"datetime",message:o.message}),a.dirty()):"date"===o.kind?Cl.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{code:y.invalid_string,validation:"date",message:o.message}),a.dirty()):"time"===o.kind?Al(o).test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{code:y.invalid_string,validation:"time",message:o.message}),a.dirty()):"duration"===o.kind?Tl.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"duration",code:y.invalid_string,message:o.message}),a.dirty()):"ip"===o.kind?Nl(t.data,o.version)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"ip",code:y.invalid_string,message:o.message}),a.dirty()):"base64"===o.kind?Il.test(t.data)||(s=this._getOrReturnCtx(t,s),S(s,{validation:"base64",code:y.invalid_string,message:o.message}),a.dirty()):q.assertNever(o);return{status:a.value,value:t.data}}_regex(t,n,a){return this.refinement(s=>t.test(s),{validation:n,code:y.invalid_string,...A.errToObj(a)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...A.errToObj(t)})}url(t){return this._addCheck({kind:"url",...A.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...A.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...A.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...A.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...A.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...A.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...A.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...A.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...A.errToObj(t)})}datetime(t){var n,a;return this._addCheck("string"==typeof t?{kind:"datetime",precision:null,offset:!1,local:!1,message:t}:{kind:"datetime",precision:typeof(null==t?void 0:t.precision)>"u"?null:null==t?void 0:t.precision,offset:null!==(n=null==t?void 0:t.offset)&&void 0!==n&&n,local:null!==(a=null==t?void 0:t.local)&&void 0!==a&&a,...A.errToObj(null==t?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return this._addCheck("string"==typeof t?{kind:"time",precision:null,message:t}:{kind:"time",precision:typeof(null==t?void 0:t.precision)>"u"?null:null==t?void 0:t.precision,...A.errToObj(null==t?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...A.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...A.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:null==n?void 0:n.position,...A.errToObj(null==n?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...A.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...A.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...A.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...A.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...A.errToObj(n)})}nonempty(t){return this.min(1,A.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>"datetime"===t.kind)}get isDate(){return!!this._def.checks.find(t=>"date"===t.kind)}get isTime(){return!!this._def.checks.find(t=>"time"===t.kind)}get isDuration(){return!!this._def.checks.find(t=>"duration"===t.kind)}get isEmail(){return!!this._def.checks.find(t=>"email"===t.kind)}get isURL(){return!!this._def.checks.find(t=>"url"===t.kind)}get isEmoji(){return!!this._def.checks.find(t=>"emoji"===t.kind)}get isUUID(){return!!this._def.checks.find(t=>"uuid"===t.kind)}get isNANOID(){return!!this._def.checks.find(t=>"nanoid"===t.kind)}get isCUID(){return!!this._def.checks.find(t=>"cuid"===t.kind)}get isCUID2(){return!!this._def.checks.find(t=>"cuid2"===t.kind)}get isULID(){return!!this._def.checks.find(t=>"ulid"===t.kind)}get isIP(){return!!this._def.checks.find(t=>"ip"===t.kind)}get isBase64(){return!!this._def.checks.find(t=>"base64"===t.kind)}get minLength(){let t=null;for(const n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}}return e.create=r=>{var t;return new e({checks:[],typeName:v.ZodString,coerce:null!==(t=null==r?void 0:r.coerce)&&void 0!==t&&t,...j(r)})},e})();function Rl(e,r){const t=(e.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,a=t>n?t:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(r.toFixed(a).replace(".",""))/Math.pow(10,a)}let gn=(()=>{class e extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==E.number){const o=this._getOrReturnCtx(t);return S(o,{code:y.invalid_type,expected:E.number,received:o.parsedType}),O}let a;const s=new ye;for(const o of this._def.checks)"int"===o.kind?q.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),S(a,{code:y.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):"min"===o.kind?(o.inclusive?t.data<o.value:t.data<=o.value)&&(a=this._getOrReturnCtx(t,a),S(a,{code:y.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):"max"===o.kind?(o.inclusive?t.data>o.value:t.data>=o.value)&&(a=this._getOrReturnCtx(t,a),S(a,{code:y.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):"multipleOf"===o.kind?0!==Rl(t.data,o.value)&&(a=this._getOrReturnCtx(t,a),S(a,{code:y.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):"finite"===o.kind?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),S(a,{code:y.not_finite,message:o.message}),s.dirty()):q.assertNever(o);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,A.toString(n))}gt(t,n){return this.setLimit("min",t,!1,A.toString(n))}lte(t,n){return this.setLimit("max",t,!0,A.toString(n))}lt(t,n){return this.setLimit("max",t,!1,A.toString(n))}setLimit(t,n,a,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:a,message:A.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:A.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:A.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:A.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:A.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:A.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:A.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:A.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:A.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:A.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>"int"===t.kind||"multipleOf"===t.kind&&q.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===n||a.value>n)&&(n=a.value):"max"===a.kind&&(null===t||a.value<t)&&(t=a.value)}return Number.isFinite(n)&&Number.isFinite(t)}}return e.create=r=>new e({checks:[],typeName:v.ZodNumber,coerce:(null==r?void 0:r.coerce)||!1,...j(r)}),e})(),yn=(()=>{class e extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==E.bigint){const o=this._getOrReturnCtx(t);return S(o,{code:y.invalid_type,expected:E.bigint,received:o.parsedType}),O}let a;const s=new ye;for(const o of this._def.checks)"min"===o.kind?(o.inclusive?t.data<o.value:t.data<=o.value)&&(a=this._getOrReturnCtx(t,a),S(a,{code:y.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):"max"===o.kind?(o.inclusive?t.data>o.value:t.data>=o.value)&&(a=this._getOrReturnCtx(t,a),S(a,{code:y.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):"multipleOf"===o.kind?t.data%o.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),S(a,{code:y.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):q.assertNever(o);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,A.toString(n))}gt(t,n){return this.setLimit("min",t,!1,A.toString(n))}lte(t,n){return this.setLimit("max",t,!0,A.toString(n))}lt(t,n){return this.setLimit("max",t,!1,A.toString(n))}setLimit(t,n,a,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:a,message:A.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:A.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:A.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:A.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:A.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:A.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}}return e.create=r=>{var t;return new e({checks:[],typeName:v.ZodBigInt,coerce:null!==(t=null==r?void 0:r.coerce)&&void 0!==t&&t,...j(r)})},e})(),vn=(()=>{class e extends ${_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==E.boolean){const a=this._getOrReturnCtx(t);return S(a,{code:y.invalid_type,expected:E.boolean,received:a.parsedType}),O}return Te(t.data)}}return e.create=r=>new e({typeName:v.ZodBoolean,coerce:(null==r?void 0:r.coerce)||!1,...j(r)}),e})(),_n=(()=>{class e extends ${_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==E.date){const o=this._getOrReturnCtx(t);return S(o,{code:y.invalid_type,expected:E.date,received:o.parsedType}),O}if(isNaN(t.data.getTime()))return S(this._getOrReturnCtx(t),{code:y.invalid_date}),O;const a=new ye;let s;for(const o of this._def.checks)"min"===o.kind?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),S(s,{code:y.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),a.dirty()):"max"===o.kind?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),S(s,{code:y.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),a.dirty()):q.assertNever(o);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:A.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:A.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return null!=t?new Date(t):null}}return e.create=r=>new e({checks:[],coerce:(null==r?void 0:r.coerce)||!1,typeName:v.ZodDate,...j(r)}),e})(),vs=(()=>{class e extends ${_parse(t){if(this._getType(t)!==E.symbol){const a=this._getOrReturnCtx(t);return S(a,{code:y.invalid_type,expected:E.symbol,received:a.parsedType}),O}return Te(t.data)}}return e.create=r=>new e({typeName:v.ZodSymbol,...j(r)}),e})(),bn=(()=>{class e extends ${_parse(t){if(this._getType(t)!==E.undefined){const a=this._getOrReturnCtx(t);return S(a,{code:y.invalid_type,expected:E.undefined,received:a.parsedType}),O}return Te(t.data)}}return e.create=r=>new e({typeName:v.ZodUndefined,...j(r)}),e})(),xn=(()=>{class e extends ${_parse(t){if(this._getType(t)!==E.null){const a=this._getOrReturnCtx(t);return S(a,{code:y.invalid_type,expected:E.null,received:a.parsedType}),O}return Te(t.data)}}return e.create=r=>new e({typeName:v.ZodNull,...j(r)}),e})(),Nr=(()=>{class e extends ${constructor(){super(...arguments),this._any=!0}_parse(t){return Te(t.data)}}return e.create=r=>new e({typeName:v.ZodAny,...j(r)}),e})(),Vt=(()=>{class e extends ${constructor(){super(...arguments),this._unknown=!0}_parse(t){return Te(t.data)}}return e.create=r=>new e({typeName:v.ZodUnknown,...j(r)}),e})(),ut=(()=>{class e extends ${_parse(t){const n=this._getOrReturnCtx(t);return S(n,{code:y.invalid_type,expected:E.never,received:n.parsedType}),O}}return e.create=r=>new e({typeName:v.ZodNever,...j(r)}),e})(),_s=(()=>{class e extends ${_parse(t){if(this._getType(t)!==E.undefined){const a=this._getOrReturnCtx(t);return S(a,{code:y.invalid_type,expected:E.void,received:a.parsedType}),O}return Te(t.data)}}return e.create=r=>new e({typeName:v.ZodVoid,...j(r)}),e})(),zt=(()=>{class e extends ${_parse(t){const{ctx:n,status:a}=this._processInputParams(t),s=this._def;if(n.parsedType!==E.array)return S(n,{code:y.invalid_type,expected:E.array,received:n.parsedType}),O;if(null!==s.exactLength){const i=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(i||l)&&(S(n,{code:i?y.too_big:y.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(null!==s.minLength&&n.data.length<s.minLength.value&&(S(n,{code:y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),null!==s.maxLength&&n.data.length>s.maxLength.value&&(S(n,{code:y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((i,l)=>s.type._parseAsync(new Be(n,i,n.path,l)))).then(i=>ye.mergeArray(a,i));const o=[...n.data].map((i,l)=>s.type._parseSync(new Be(n,i,n.path,l)));return ye.mergeArray(a,o)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:A.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:A.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:A.toString(n)}})}nonempty(t){return this.min(1,t)}}return e.create=(r,t)=>new e({type:r,minLength:null,maxLength:null,exactLength:null,typeName:v.ZodArray,...j(t)}),e})();function _t(e){if(e instanceof bt){const r={};for(const t in e.shape)r[t]=at.create(_t(e.shape[t]));return new bt({...e._def,shape:()=>r})}return e instanceof zt?new zt({...e._def,type:_t(e.element)}):e instanceof at?at.create(_t(e.unwrap())):e instanceof wt?wt.create(_t(e.unwrap())):e instanceof xt?xt.create(e.items.map(r=>_t(r))):e}let bt=(()=>{class e extends ${constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const t=this._def.shape(),n=q.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==E.object){const c=this._getOrReturnCtx(t);return S(c,{code:y.invalid_type,expected:E.object,received:c.parsedType}),O}const{status:a,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof ut&&"strip"===this._def.unknownKeys))for(const c in s.data)i.includes(c)||l.push(c);const u=[];for(const c of i)u.push({key:{status:"valid",value:c},value:o[c]._parse(new Be(s,s.data[c],s.path,c)),alwaysSet:c in s.data});if(this._def.catchall instanceof ut){const c=this._def.unknownKeys;if("passthrough"===c)for(const d of l)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if("strict"===c)l.length>0&&(S(s,{code:y.unrecognized_keys,keys:l}),a.dirty());else if("strip"!==c)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of l)u.push({key:{status:"valid",value:d},value:c._parse(new Be(s,s.data[d],s.path,d)),alwaysSet:d in s.data})}return s.common.async?Promise.resolve().then((0,x.A)(function*(){const c=[];for(const d of u){const p=yield d.key,f=yield d.value;c.push({key:p,value:f,alwaysSet:d.alwaysSet})}return c})).then(c=>ye.mergeObjectSync(a,c)):ye.mergeObjectSync(a,u)}get shape(){return this._def.shape()}strict(t){return new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(n,a)=>{var s,o,i,l;const u=null!==(i=null===(o=(s=this._def).errorMap)||void 0===o?void 0:o.call(s,n,a).message)&&void 0!==i?i:a.defaultError;return"unrecognized_keys"===n.code?{message:null!==(l=A.errToObj(t).message)&&void 0!==l?l:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:v.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e({...this._def,catchall:t})}pick(t){const n={};return q.objectKeys(t).forEach(a=>{t[a]&&this.shape[a]&&(n[a]=this.shape[a])}),new e({...this._def,shape:()=>n})}omit(t){const n={};return q.objectKeys(this.shape).forEach(a=>{t[a]||(n[a]=this.shape[a])}),new e({...this._def,shape:()=>n})}deepPartial(){return _t(this)}partial(t){const n={};return q.objectKeys(this.shape).forEach(a=>{const s=this.shape[a];n[a]=t&&!t[a]?s:s.optional()}),new e({...this._def,shape:()=>n})}required(t){const n={};return q.objectKeys(this.shape).forEach(a=>{if(t&&!t[a])n[a]=this.shape[a];else{let o=this.shape[a];for(;o instanceof at;)o=o._def.innerType;n[a]=o}}),new e({...this._def,shape:()=>n})}keyof(){return Ts(q.objectKeys(this.shape))}}return e.create=(r,t)=>new e({shape:()=>r,unknownKeys:"strip",catchall:ut.create(),typeName:v.ZodObject,...j(t)}),e.strictCreate=(r,t)=>new e({shape:()=>r,unknownKeys:"strict",catchall:ut.create(),typeName:v.ZodObject,...j(t)}),e.lazycreate=(r,t)=>new e({shape:r,unknownKeys:"strip",catchall:ut.create(),typeName:v.ZodObject,...j(t)}),e})(),Tn=(()=>{class e extends ${_parse(t){const{ctx:n}=this._processInputParams(t),a=this._def.options;if(n.common.async)return Promise.all(a.map(function(){var o=(0,x.A)(function*(i){const l={...n,common:{...n.common,issues:[]},parent:null};return{result:yield i._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}});return function(i){return o.apply(this,arguments)}}())).then(function s(o){for(const l of o)if("valid"===l.result.status)return l.result;for(const l of o)if("dirty"===l.result.status)return n.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new Ye(l.ctx.common.issues));return S(n,{code:y.invalid_union,unionErrors:i}),O});{let o;const i=[];for(const u of a){const c={...n,common:{...n.common,issues:[]},parent:null},d=u._parseSync({data:n.data,path:n.path,parent:c});if("valid"===d.status)return d;"dirty"===d.status&&!o&&(o={result:d,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(u=>new Ye(u));return S(n,{code:y.invalid_union,unionErrors:l}),O}}get options(){return this._def.options}}return e.create=(r,t)=>new e({options:r,typeName:v.ZodUnion,...j(t)}),e})();const Ke=e=>e instanceof kn?Ke(e.schema):e instanceof ct?Ke(e.innerType()):e instanceof En?[e.value]:e instanceof nt?e.options:e instanceof Ht?q.objectValues(e.enum):e instanceof In?Ke(e._def.innerType):e instanceof bn?[void 0]:e instanceof xn?[null]:e instanceof at?[void 0,...Ke(e.unwrap())]:e instanceof wt?[null,...Ke(e.unwrap())]:e instanceof An||e instanceof Nn?Ke(e.unwrap()):e instanceof Cn?Ke(e._def.innerType):[];class Rr extends ${_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==E.object)return S(t,{code:y.invalid_type,expected:E.object,received:t.parsedType}),O;const n=this.discriminator,s=this.optionsMap.get(t.data[n]);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(S(t,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),O)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t,n){const a=new Map;for(const s of t){const o=Ke(s.shape[r]);if(!o.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const i of o){if(a.has(i))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(i)}`);a.set(i,s)}}return new Rr({typeName:v.ZodDiscriminatedUnion,discriminator:r,options:t,optionsMap:a,...j(n)})}}function wn(e,r){const t=rt(e),n=rt(r);if(e===r)return{valid:!0,data:e};if(t===E.object&&n===E.object){const a=q.objectKeys(r),s=q.objectKeys(e).filter(i=>-1!==a.indexOf(i)),o={...e,...r};for(const i of s){const l=wn(e[i],r[i]);if(!l.valid)return{valid:!1};o[i]=l.data}return{valid:!0,data:o}}if(t===E.array&&n===E.array){if(e.length!==r.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const l=wn(e[s],r[s]);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}return t===E.date&&n===E.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}let Sn=(()=>{class e extends ${_parse(t){const{status:n,ctx:a}=this._processInputParams(t),s=(o,i)=>{if(fn(o)||fn(i))return O;const l=wn(o.value,i.value);return l.valid?((mn(o)||mn(i))&&n.dirty(),{status:n.value,value:l.data}):(S(a,{code:y.invalid_intersection_types}),O)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}return e.create=(r,t,n)=>new e({left:r,right:t,typeName:v.ZodIntersection,...j(n)}),e})(),xt=(()=>{class e extends ${_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==E.array)return S(a,{code:y.invalid_type,expected:E.array,received:a.parsedType}),O;if(a.data.length<this._def.items.length)return S(a,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&a.data.length>this._def.items.length&&(S(a,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...a.data].map((i,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Be(a,i,a.path,l)):null}).filter(i=>!!i);return a.common.async?Promise.all(o).then(i=>ye.mergeArray(n,i)):ye.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}}return e.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new e({items:r,typeName:v.ZodTuple,rest:null,...j(t)})},e})();class Wt extends ${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:n}=this._processInputParams(r);if(n.parsedType!==E.object)return S(n,{code:y.invalid_type,expected:E.object,received:n.parsedType}),O;const a=[],s=this._def.keyType,o=this._def.valueType;for(const i in n.data)a.push({key:s._parse(new Be(n,i,n.path,i)),value:o._parse(new Be(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?ye.mergeObjectAsync(t,a):ye.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(r,t,n){return new Wt(t instanceof $?{keyType:r,valueType:t,typeName:v.ZodRecord,...j(n)}:{keyType:Ar.create(),valueType:r,typeName:v.ZodRecord,...j(t)})}}let bs=(()=>{class e extends ${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==E.map)return S(a,{code:y.invalid_type,expected:E.map,received:a.parsedType}),O;const s=this._def.keyType,o=this._def.valueType,i=[...a.data.entries()].map(([l,u],c)=>({key:s._parse(new Be(a,l,a.path,[c,"key"])),value:o._parse(new Be(a,u,a.path,[c,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then((0,x.A)(function*(){for(const u of i){const c=yield u.key,d=yield u.value;if("aborted"===c.status||"aborted"===d.status)return O;("dirty"===c.status||"dirty"===d.status)&&n.dirty(),l.set(c.value,d.value)}return{status:n.value,value:l}}))}{const l=new Map;for(const u of i){const c=u.key,d=u.value;if("aborted"===c.status||"aborted"===d.status)return O;("dirty"===c.status||"dirty"===d.status)&&n.dirty(),l.set(c.value,d.value)}return{status:n.value,value:l}}}}return e.create=(r,t,n)=>new e({valueType:t,keyType:r,typeName:v.ZodMap,...j(n)}),e})(),xs=(()=>{class e extends ${_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==E.set)return S(a,{code:y.invalid_type,expected:E.set,received:a.parsedType}),O;const s=this._def;null!==s.minSize&&a.data.size<s.minSize.value&&(S(a,{code:y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),null!==s.maxSize&&a.data.size>s.maxSize.value&&(S(a,{code:y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function i(u){const c=new Set;for(const d of u){if("aborted"===d.status)return O;"dirty"===d.status&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const l=[...a.data.values()].map((u,c)=>o._parse(new Be(a,u,a.path,c)));return a.common.async?Promise.all(l).then(u=>i(u)):i(l)}min(t,n){return new e({...this._def,minSize:{value:t,message:A.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:A.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}return e.create=(r,t)=>new e({valueType:r,minSize:null,maxSize:null,typeName:v.ZodSet,...j(t)}),e})();class Tt extends ${constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==E.function)return S(t,{code:y.invalid_type,expected:E.function,received:t.parsedType}),O;function n(i,l){return Ir({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Er(),yt].filter(u=>!!u),issueData:{code:y.invalid_arguments,argumentsError:l}})}function a(i,l){return Ir({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Er(),yt].filter(u=>!!u),issueData:{code:y.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Or){const i=this;return Te((0,x.A)(function*(...l){const u=new Ye([]),c=yield i._def.args.parseAsync(l,s).catch(f=>{throw u.addIssue(n(l,f)),u}),d=yield Reflect.apply(o,this,c);return yield i._def.returns._def.type.parseAsync(d,s).catch(f=>{throw u.addIssue(a(d,f)),u})}))}{const i=this;return Te(function(...l){const u=i._def.args.safeParse(l,s);if(!u.success)throw new Ye([n(l,u.error)]);const c=Reflect.apply(o,this,u.data),d=i._def.returns.safeParse(c,s);if(!d.success)throw new Ye([a(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Tt({...this._def,args:xt.create(r).rest(Vt.create())})}returns(r){return new Tt({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t,n){return new Tt({args:r||xt.create([]).rest(Vt.create()),returns:t||Vt.create(),typeName:v.ZodFunction,...j(n)})}}let kn=(()=>{class e extends ${get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}return e.create=(r,t)=>new e({getter:r,typeName:v.ZodLazy,...j(t)}),e})(),En=(()=>{class e extends ${_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return S(n,{received:n.data,code:y.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:t.data}}get value(){return this._def.value}}return e.create=(r,t)=>new e({value:r,typeName:v.ZodLiteral,...j(t)}),e})();function Ts(e,r){return new nt({values:e,typeName:v.ZodEnum,...j(r)})}class nt extends ${constructor(){super(...arguments),Ft.set(this,void 0)}_parse(r){if("string"!=typeof r.data){const t=this._getOrReturnCtx(r);return S(t,{expected:q.joinValues(this._def.values),received:t.parsedType,code:y.invalid_type}),O}if(Cr(this,Ft,"f")||fs(this,Ft,new Set(this._def.values),"f"),!Cr(this,Ft,"f").has(r.data)){const t=this._getOrReturnCtx(r);return S(t,{received:t.data,code:y.invalid_enum_value,options:this._def.values}),O}return Te(r.data)}get options(){return this._def.values}get enum(){const r={};for(const t of this._def.values)r[t]=t;return r}get Values(){const r={};for(const t of this._def.values)r[t]=t;return r}get Enum(){const r={};for(const t of this._def.values)r[t]=t;return r}extract(r,t=this._def){return nt.create(r,{...this._def,...t})}exclude(r,t=this._def){return nt.create(this.options.filter(n=>!r.includes(n)),{...this._def,...t})}}Ft=new WeakMap,nt.create=Ts;class Ht extends ${constructor(){super(...arguments),Bt.set(this,void 0)}_parse(r){const t=q.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(r);if(n.parsedType!==E.string&&n.parsedType!==E.number){const a=q.objectValues(t);return S(n,{expected:q.joinValues(a),received:n.parsedType,code:y.invalid_type}),O}if(Cr(this,Bt,"f")||fs(this,Bt,new Set(q.getValidEnumValues(this._def.values)),"f"),!Cr(this,Bt,"f").has(r.data)){const a=q.objectValues(t);return S(n,{received:n.data,code:y.invalid_enum_value,options:a}),O}return Te(r.data)}get enum(){return this._def.values}}Bt=new WeakMap,Ht.create=(e,r)=>new Ht({values:e,typeName:v.ZodNativeEnum,...j(r)});let Or=(()=>{class e extends ${unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==E.promise&&!1===n.common.async)return S(n,{code:y.invalid_type,expected:E.promise,received:n.parsedType}),O;const a=n.parsedType===E.promise?n.data:Promise.resolve(n.data);return Te(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}return e.create=(r,t)=>new e({type:r,typeName:v.ZodPromise,...j(t)}),e})(),ct=(()=>{class e extends ${innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===v.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){var n=this;const{status:a,ctx:s}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:l=>{S(s,l),l.fatal?a.abort():a.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===o.type){const l=o.transform(s.data,i);if(s.common.async)return Promise.resolve(l).then(function(){var u=(0,x.A)(function*(c){if("aborted"===a.value)return O;const d=yield n._def.schema._parseAsync({data:c,path:s.path,parent:s});return"aborted"===d.status?O:"dirty"===d.status||"dirty"===a.value?vt(d.value):d});return function(c){return u.apply(this,arguments)}}());{if("aborted"===a.value)return O;const u=this._def.schema._parseSync({data:l,path:s.path,parent:s});return"aborted"===u.status?O:"dirty"===u.status||"dirty"===a.value?vt(u.value):u}}if("refinement"===o.type){const l=u=>{const c=o.refinement(u,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(!1===s.common.async){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===u.status?O:("dirty"===u.status&&a.dirty(),l(u.value),{status:a.value,value:u.value})}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>"aborted"===u.status?O:("dirty"===u.status&&a.dirty(),l(u.value).then(()=>({status:a.value,value:u.value}))))}if("transform"===o.type){if(!1===s.common.async){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Lt(l))return l;const u=o.transform(l.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:u}}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>Lt(l)?Promise.resolve(o.transform(l.value,i)).then(u=>({status:a.value,value:u})):l)}q.assertNever(o)}}return e.create=(r,t,n)=>new e({schema:r,typeName:v.ZodEffects,effect:t,...j(n)}),e.createWithPreprocess=(r,t,n)=>new e({schema:t,effect:{type:"preprocess",transform:r},typeName:v.ZodEffects,...j(n)}),e})(),at=(()=>{class e extends ${_parse(t){return this._getType(t)===E.undefined?Te(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}return e.create=(r,t)=>new e({innerType:r,typeName:v.ZodOptional,...j(t)}),e})(),wt=(()=>{class e extends ${_parse(t){return this._getType(t)===E.null?Te(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}return e.create=(r,t)=>new e({innerType:r,typeName:v.ZodNullable,...j(t)}),e})(),In=(()=>{class e extends ${_parse(t){const{ctx:n}=this._processInputParams(t);let a=n.data;return n.parsedType===E.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}return e.create=(r,t)=>new e({innerType:r,typeName:v.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...j(t)}),e})(),Cn=(()=>{class e extends ${_parse(t){const{ctx:n}=this._processInputParams(t),a={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Jt(s)?s.then(o=>({status:"valid",value:"valid"===o.status?o.value:this._def.catchValue({get error(){return new Ye(a.common.issues)},input:a.data})})):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new Ye(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}return e.create=(r,t)=>new e({innerType:r,typeName:v.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...j(t)}),e})(),ws=(()=>{class e extends ${_parse(t){if(this._getType(t)!==E.nan){const a=this._getOrReturnCtx(t);return S(a,{code:y.invalid_type,expected:E.nan,received:a.parsedType}),O}return{status:"valid",value:t.data}}}return e.create=r=>new e({typeName:v.ZodNaN,...j(r)}),e})();const Ol=Symbol("zod_brand");class An extends ${_parse(r){const{ctx:t}=this._processInputParams(r);return this._def.type._parse({data:t.data,path:t.path,parent:t})}unwrap(){return this._def.type}}class Yt extends ${_parse(r){var t=this;const{status:n,ctx:a}=this._processInputParams(r);if(a.common.async)return function(){var o=(0,x.A)(function*(){const i=yield t._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===i.status?O:"dirty"===i.status?(n.dirty(),vt(i.value)):t._def.out._parseAsync({data:i.value,path:a.path,parent:a})});return function(){return o.apply(this,arguments)}}()();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===s.status?O:"dirty"===s.status?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(r,t){return new Yt({in:r,out:t,typeName:v.ZodPipeline})}}let Nn=(()=>{class e extends ${_parse(t){const n=this._def.innerType._parse(t),a=s=>(Lt(s)&&(s.value=Object.freeze(s.value)),s);return Jt(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}}return e.create=(r,t)=>new e({innerType:r,typeName:v.ZodReadonly,...j(t)}),e})();function Ss(e,r={},t){return e?Nr.create().superRefine((n,a)=>{var s,o;if(!e(n)){const i="function"==typeof r?r(n):"string"==typeof r?{message:r}:r,l=null===(o=null!==(s=i.fatal)&&void 0!==s?s:t)||void 0===o||o;a.addIssue({code:"custom",..."string"==typeof i?{message:i}:i,fatal:l})}}):Nr.create()}const Pl={object:bt.lazycreate};var v=function(e){return e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly",e}(v||{});const ks=Ar.create,Es=gn.create,Is=vn.create,Cs=ct.create;var m=Object.freeze({__proto__:null,defaultErrorMap:yt,setErrorMap:function hl(e){ps=e},getErrorMap:Er,makeIssue:Ir,EMPTY_PATH:[],addIssueToContext:S,ParseStatus:ye,INVALID:O,DIRTY:vt,OK:Te,isAborted:fn,isDirty:mn,isValid:Lt,isAsync:Jt,get util(){return q},get objectUtil(){return ds},ZodParsedType:E,getParsedType:rt,ZodType:$,datetimeRegex:ys,ZodString:Ar,ZodNumber:gn,ZodBigInt:yn,ZodBoolean:vn,ZodDate:_n,ZodSymbol:vs,ZodUndefined:bn,ZodNull:xn,ZodAny:Nr,ZodUnknown:Vt,ZodNever:ut,ZodVoid:_s,ZodArray:zt,ZodObject:bt,ZodUnion:Tn,ZodDiscriminatedUnion:Rr,ZodIntersection:Sn,ZodTuple:xt,ZodRecord:Wt,ZodMap:bs,ZodSet:xs,ZodFunction:Tt,ZodLazy:kn,ZodLiteral:En,ZodEnum:nt,ZodNativeEnum:Ht,ZodPromise:Or,ZodEffects:ct,ZodTransformer:ct,ZodOptional:at,ZodNullable:wt,ZodDefault:In,ZodCatch:Cn,ZodNaN:ws,BRAND:Ol,ZodBranded:An,ZodPipeline:Yt,ZodReadonly:Nn,custom:Ss,Schema:$,ZodSchema:$,late:Pl,get ZodFirstPartyTypeKind(){return v},coerce:{string:e=>Ar.create({...e,coerce:!0}),number:e=>gn.create({...e,coerce:!0}),boolean:e=>vn.create({...e,coerce:!0}),bigint:e=>yn.create({...e,coerce:!0}),date:e=>_n.create({...e,coerce:!0})},any:Nr.create,array:zt.create,bigint:yn.create,boolean:Is,date:_n.create,discriminatedUnion:Rr.create,effect:Cs,enum:nt.create,function:Tt.create,instanceof:(e,r={message:`Input not instance of ${e.name}`})=>Ss(t=>t instanceof e,r),intersection:Sn.create,lazy:kn.create,literal:En.create,map:bs.create,nan:ws.create,nativeEnum:Ht.create,never:ut.create,null:xn.create,nullable:wt.create,number:Es,object:bt.create,oboolean:()=>Is().optional(),onumber:()=>Es().optional(),optional:at.create,ostring:()=>ks().optional(),pipeline:Yt.create,preprocess:ct.createWithPreprocess,promise:Or.create,record:Wt.create,set:xs.create,strictObject:bt.strictCreate,string:ks,symbol:vs.create,transformer:Cs,tuple:xt.create,undefined:bn.create,union:Tn.create,unknown:Vt.create,void:_s.create,NEVER:O,ZodIssueCode:y,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Ye});const du=Symbol("Let zodToJsonSchema decide on which parser to use"),As={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function Ns(e,r,t,n){null!=n&&n.errorMessages&&t&&(e.errorMessage={...e.errorMessage,[r]:t})}function W(e,r,t,n,a){e[r]=t,Ns(e,r,n,a)}function Rs(e,r){return J(e.type._def,r)}function Os(e,r,t){const n=null!=t?t:r.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((a,s)=>Os(e,r,a))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return _u(e,r)}}const _u=(e,r)=>{const t={type:"integer",format:"unix-time"};if("openApi3"===r.target)return t;for(const n of e.checks)switch(n.kind){case"min":W(t,"minimum",n.value,n.message,r);break;case"max":W(t,"maximum",n.value,n.message,r)}return t};let Rn;const dt={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===Rn&&(Rn=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Rn),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function Ps(e,r){const t={type:"string"};function n(a){return"escape"===r.patternStrategy?Eu(a):a}if(e.checks)for(const a of e.checks)switch(a.kind){case"min":W(t,"minLength","number"==typeof t.minLength?Math.max(t.minLength,a.value):a.value,a.message,r);break;case"max":W(t,"maxLength","number"==typeof t.maxLength?Math.min(t.maxLength,a.value):a.value,a.message,r);break;case"email":switch(r.emailStrategy){case"format:email":qe(t,"email",a.message,r);break;case"format:idn-email":qe(t,"idn-email",a.message,r);break;case"pattern:zod":Le(t,dt.email,a.message,r)}break;case"url":qe(t,"uri",a.message,r);break;case"uuid":qe(t,"uuid",a.message,r);break;case"regex":Le(t,a.regex,a.message,r);break;case"cuid":Le(t,dt.cuid,a.message,r);break;case"cuid2":Le(t,dt.cuid2,a.message,r);break;case"startsWith":Le(t,RegExp(`^${n(a.value)}`),a.message,r);break;case"endsWith":Le(t,RegExp(`${n(a.value)}$`),a.message,r);break;case"datetime":qe(t,"date-time",a.message,r);break;case"date":qe(t,"date",a.message,r);break;case"time":qe(t,"time",a.message,r);break;case"duration":qe(t,"duration",a.message,r);break;case"length":W(t,"minLength","number"==typeof t.minLength?Math.max(t.minLength,a.value):a.value,a.message,r),W(t,"maxLength","number"==typeof t.maxLength?Math.min(t.maxLength,a.value):a.value,a.message,r);break;case"includes":Le(t,RegExp(n(a.value)),a.message,r);break;case"ip":"v6"!==a.version&&qe(t,"ipv4",a.message,r),"v4"!==a.version&&qe(t,"ipv6",a.message,r);break;case"emoji":Le(t,dt.emoji,a.message,r);break;case"ulid":Le(t,dt.ulid,a.message,r);break;case"base64":switch(r.base64Strategy){case"format:binary":qe(t,"binary",a.message,r);break;case"contentEncoding:base64":W(t,"contentEncoding","base64",a.message,r);break;case"pattern:zod":Le(t,dt.base64,a.message,r)}break;case"nanoid":Le(t,dt.nanoid,a.message,r)}return t}const Eu=e=>Array.from(e).map(r=>/[a-zA-Z0-9]/.test(r)?r:`\\${r}`).join(""),qe=(e,r,t,n)=>{var a;e.format||null!==(a=e.anyOf)&&void 0!==a&&a.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:r,...t&&n.errorMessages&&{errorMessage:{format:t}}})):W(e,"format",r,t,n)},Le=(e,r,t,n)=>{var a;e.pattern||null!==(a=e.allOf)&&void 0!==a&&a.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:Ms(r,n),...t&&n.errorMessages&&{errorMessage:{pattern:t}}})):W(e,"pattern",Ms(r,n),t,n)},Ms=(e,r)=>{const t="function"==typeof e?e():e;if(!r.applyRegexFlags||!t.flags)return t.source;const n_i=t.flags.includes("i"),n_m=t.flags.includes("m"),n_s=t.flags.includes("s"),a=n_i?t.source.toLowerCase():t.source;let s="",o=!1,i=!1,l=!1;for(let c=0;c<a.length;c++)if(o)s+=a[c],o=!1;else{if(n_i)if(i){if(a[c].match(/[a-z]/)){var u;l?(s+=a[c],s+=`${a[c-2]}-${a[c]}`.toUpperCase(),l=!1):"-"===a[c+1]&&null!==(u=a[c+2])&&void 0!==u&&u.match(/[a-z]/)?(s+=a[c],l=!0):s+=`${a[c]}${a[c].toUpperCase()}`;continue}}else if(a[c].match(/[a-z]/)){s+=`[${a[c]}${a[c].toUpperCase()}]`;continue}if(n_m){if("^"===a[c]){s+="(^|(?<=[\r\n]))";continue}if("$"===a[c]){s+="($|(?=[\r\n]))";continue}}n_s&&"."===a[c]?s+=i?`${a[c]}\r\n`:`[${a[c]}\r\n]`:(s+=a[c],"\\"===a[c]?o=!0:i&&"]"===a[c]?i=!1:!i&&"["===a[c]&&(i=!0))}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${r.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return s};function js(e,r){var t,n,a,s,o,i,l;if("openApi3"===r.target&&(null===(t=e.keyType)||void 0===t?void 0:t._def.typeName)===v.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((c,d)=>{var p;return{...c,[d]:null!==(p=J(e.valueType._def,{...r,currentPath:[...r.currentPath,"properties",d]}))&&void 0!==p?p:{}}},{}),additionalProperties:!1};const u={type:"object",additionalProperties:null!==(n=J(e.valueType._def,{...r,currentPath:[...r.currentPath,"additionalProperties"]}))&&void 0!==n?n:{}};if("openApi3"===r.target)return u;if((null===(a=e.keyType)||void 0===a?void 0:a._def.typeName)===v.ZodString&&null!==(s=e.keyType._def.checks)&&void 0!==s&&s.length){const{type:c,...d}=Ps(e.keyType._def,r);return{...u,propertyNames:d}}if((null===(o=e.keyType)||void 0===o?void 0:o._def.typeName)===v.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if((null===(i=e.keyType)||void 0===i?void 0:i._def.typeName)===v.ZodBranded&&e.keyType._def.type._def.typeName===v.ZodString&&null!==(l=e.keyType._def.type._def.checks)&&void 0!==l&&l.length){const{type:c,...d}=Rs(e.keyType._def,r);return{...u,propertyNames:d}}return u}const Pr={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},Ds=(e,r)=>{const t=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,a)=>J(n._def,{...r,currentPath:[...r.currentPath,"anyOf",`${a}`]})).filter(n=>!!n&&(!r.strictUnions||"object"==typeof n&&Object.keys(n).length>0));return t.length?{anyOf:t}:void 0};function Mu(e,r){var t,n;return"strict"===r.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:null===(t=J(e.catchall._def,{...r,currentPath:[...r.currentPath,"additionalProperties"]}))||void 0===t||t:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:null===(n=J(e.catchall._def,{...r,currentPath:[...r.currentPath,"additionalProperties"]}))||void 0===n||n}function J(e,r,t=!1){const n=r.seen.get(e);if(r.override){var a;const i=null===(a=r.override)||void 0===a?void 0:a.call(r,e,r,n,t);if(i!==du)return i}if(n&&!t){const i=Fu(n,r);if(void 0!==i)return i}const s={def:e,path:r.currentPath,jsonSchema:void 0};r.seen.set(e,s);const o=Vu(e,e.typeName,r);return o&&zu(e,r,o),s.jsonSchema=o,o}const Fu=(e,r)=>{switch(r.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Bu(r.currentPath,e.path)};case"none":case"seen":return e.path.length<r.currentPath.length&&e.path.every((t,n)=>r.currentPath[n]===t)?(console.warn(`Recursive reference detected at ${r.currentPath.join("/")}! Defaulting to any`),{}):"seen"===r.$refStrategy?{}:void 0}},Bu=(e,r)=>{let t=0;for(;t<e.length&&t<r.length&&e[t]===r[t];t++);return[(e.length-t).toString(),...r.slice(t)].join("/")},Vu=(e,r,t)=>{switch(r){case v.ZodString:return Ps(e,t);case v.ZodNumber:return function Pu(e,r){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer",Ns(t,"type",n.message,r);break;case"min":"jsonSchema7"===r.target?W(t,n.inclusive?"minimum":"exclusiveMinimum",n.value,n.message,r):(n.inclusive||(t.exclusiveMinimum=!0),W(t,"minimum",n.value,n.message,r));break;case"max":"jsonSchema7"===r.target?W(t,n.inclusive?"maximum":"exclusiveMaximum",n.value,n.message,r):(n.inclusive||(t.exclusiveMaximum=!0),W(t,"maximum",n.value,n.message,r));break;case"multipleOf":W(t,"multipleOf",n.value,n.message,r)}return t}(e,t);case v.ZodObject:return function ju(e,r){const t={type:"object",...Object.entries(e.shape()).reduce((n,[a,s])=>{if(void 0===s||void 0===s._def)return n;const o=J(s._def,{...r,currentPath:[...r.currentPath,"properties",a],propertyPath:[...r.currentPath,"properties",a]});return void 0===o?n:{properties:{...n.properties,[a]:o},required:s.isOptional()?n.required:[...n.required,a]}},{properties:{},required:[]}),additionalProperties:Mu(e,r)};return t.required.length||delete t.required,t}(e,t);case v.ZodBigInt:return function gu(e,r){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":"jsonSchema7"===r.target?W(t,n.inclusive?"minimum":"exclusiveMinimum",n.value,n.message,r):(n.inclusive||(t.exclusiveMinimum=!0),W(t,"minimum",n.value,n.message,r));break;case"max":"jsonSchema7"===r.target?W(t,n.inclusive?"maximum":"exclusiveMaximum",n.value,n.message,r):(n.inclusive||(t.exclusiveMaximum=!0),W(t,"maximum",n.value,n.message,r));break;case"multipleOf":W(t,"multipleOf",n.value,n.message,r)}return t}(e,t);case v.ZodBoolean:return{type:"boolean"};case v.ZodDate:return Os(e,t);case v.ZodUndefined:return{not:{}};case v.ZodNull:return function Nu(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}(t);case v.ZodArray:return function hu(e,r){var t,n;const a={type:"array"};return null!==(t=e.type)&&void 0!==t&&t._def&&(null===(n=e.type)||void 0===n||null===(n=n._def)||void 0===n?void 0:n.typeName)!==v.ZodAny&&(a.items=J(e.type._def,{...r,currentPath:[...r.currentPath,"items"]})),e.minLength&&W(a,"minItems",e.minLength.value,e.minLength.message,r),e.maxLength&&W(a,"maxItems",e.maxLength.value,e.maxLength.message,r),e.exactLength&&(W(a,"minItems",e.exactLength.value,e.exactLength.message,r),W(a,"maxItems",e.exactLength.value,e.exactLength.message,r)),a}(e,t);case v.ZodUnion:case v.ZodDiscriminatedUnion:return function Ru(e,r){if("openApi3"===r.target)return Ds(e,r);const t=e.options instanceof Map?Array.from(e.options.values()):e.options;if(t.every(n=>n._def.typeName in Pr&&(!n._def.checks||!n._def.checks.length))){const n=t.reduce((a,s)=>{const o=Pr[s._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:n.length>1?n:n[0]}}if(t.every(n=>"ZodLiteral"===n._def.typeName&&!n.description)){const n=t.reduce((a,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(null===s._def.value)return[...a,"null"];default:return a}},[]);if(n.length===t.length){const a=n.filter((s,o,i)=>i.indexOf(s)===o);return{type:a.length>1?a:a[0],enum:t.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(t.every(n=>"ZodEnum"===n._def.typeName))return{type:"string",enum:t.reduce((n,a)=>[...n,...a._def.values.filter(s=>!n.includes(s))],[])};return Ds(e,r)}(e,t);case v.ZodIntersection:return function Su(e,r){const t=[J(e.left._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),J(e.right._def,{...r,currentPath:[...r.currentPath,"allOf","1"]})].filter(s=>!!s);let n="jsonSchema2019-09"===r.target?{unevaluatedProperties:!1}:void 0;const a=[];return t.forEach(s=>{if((e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e)(s))a.push(...s.allOf),void 0===s.unevaluatedProperties&&(n=void 0);else{let o=s;if("additionalProperties"in s&&!1===s.additionalProperties){const{additionalProperties:i,...l}=s;o=l}else n=void 0;a.push(o)}}),a.length?{allOf:a,...n}:void 0}(e,t);case v.ZodTuple:return function Gu(e,r){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((t,n)=>J(t._def,{...r,currentPath:[...r.currentPath,"items",`${n}`]})).reduce((t,n)=>void 0===n?t:[...t,n],[]),additionalItems:J(e.rest._def,{...r,currentPath:[...r.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((t,n)=>J(t._def,{...r,currentPath:[...r.currentPath,"items",`${n}`]})).reduce((t,n)=>void 0===n?t:[...t,n],[])}}(e,t);case v.ZodRecord:return js(e,t);case v.ZodLiteral:return function ku(e,r){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===r.target?{type:"bigint"===t?"integer":t,enum:[e.value]}:{type:"bigint"===t?"integer":t,const:e.value}}(e,t);case v.ZodEnum:return function Tu(e){return{type:"string",enum:e.values}}(e);case v.ZodNativeEnum:return function Cu(e){const r=e.values,n=Object.keys(e.values).filter(s=>"number"!=typeof r[r[s]]).map(s=>r[s]),a=Array.from(new Set(n.map(s=>typeof s)));return{type:1===a.length?"string"===a[0]?"string":"number":["string","number"],enum:n}}(e);case v.ZodNullable:return function Ou(e,r){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===r.target?{type:Pr[e.innerType._def.typeName],nullable:!0}:{type:[Pr[e.innerType._def.typeName],"null"]};if("openApi3"===r.target){const n=J(e.innerType._def,{...r,currentPath:[...r.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const t=J(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}(e,t);case v.ZodOptional:return((e,r)=>{var t;if(r.currentPath.toString()===(null===(t=r.propertyPath)||void 0===t?void 0:t.toString()))return J(e.innerType._def,r);const n=J(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}})(e,t);case v.ZodMap:return function Iu(e,r){return"record"===r.mapStrategy?js(e,r):{type:"array",maxItems:125,items:{type:"array",items:[J(e.keyType._def,{...r,currentPath:[...r.currentPath,"items","items","0"]})||{},J(e.valueType._def,{...r,currentPath:[...r.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,t);case v.ZodSet:return function Uu(e,r){const n={type:"array",uniqueItems:!0,items:J(e.valueType._def,{...r,currentPath:[...r.currentPath,"items"]})};return e.minSize&&W(n,"minItems",e.minSize.value,e.minSize.message,r),e.maxSize&&W(n,"maxItems",e.maxSize.value,e.maxSize.message,r),n}(e,t);case v.ZodLazy:return J(e.getter()._def,t);case v.ZodPromise:return function Zu(e,r){return J(e.type._def,r)}(e,t);case v.ZodNaN:case v.ZodNever:return{not:{}};case v.ZodEffects:return function xu(e,r){return"input"===r.effectStrategy?J(e.schema._def,r):{}}(e,t);case v.ZodAny:case v.ZodUnknown:return{};case v.ZodDefault:return function bu(e,r){return{...J(e.innerType._def,r),default:e.defaultValue()}}(e,t);case v.ZodBranded:return Rs(e,t);case v.ZodReadonly:case v.ZodCatch:return((e,r)=>J(e.innerType._def,r))(e,t);case v.ZodPipeline:return((e,r)=>{if("input"===r.pipeStrategy)return J(e.in._def,r);if("output"===r.pipeStrategy)return J(e.out._def,r);const t=J(e.in._def,{...r,currentPath:[...r.currentPath,"allOf","0"]});return{allOf:[t,J(e.out._def,{...r,currentPath:[...r.currentPath,"allOf",t?"1":"0"]})].filter(a=>void 0!==a)}})(e,t);default:return}},zu=(e,r,t)=>(e.description&&(t.description=e.description,r.markdownDescription&&(t.markdownDescription=e.description)),t),Wu=(e,r)=>{var t;const n=(e=>{const r=(e=>"string"==typeof e?{...As,name:e}:{...As,...e})(e),t=void 0!==r.name?[...r.basePath,r.definitionPath,r.name]:r.basePath;return{...r,currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(r.definitions).map(([n,a])=>[a._def,{def:a._def,path:[...r.basePath,r.definitionPath,n],jsonSchema:void 0}]))}})(r),a="object"==typeof r&&r.definitions?Object.entries(r.definitions).reduce((u,[c,d])=>{var p;return{...u,[c]:null!==(p=J(d._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0))&&void 0!==p?p:{}}},{}):void 0,s="string"==typeof r?r:"title"===(null==r?void 0:r.nameStrategy)||null==r?void 0:r.name,o=null!==(t=J(e._def,void 0===s?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1))&&void 0!==t?t:{},i="object"==typeof r&&void 0!==r.name&&"title"===r.nameStrategy?r.name:void 0;void 0!==i&&(o.title=i);const l=void 0===s?a?{...o,[n.definitionPath]:a}:o:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...a,[s]:o}};return"jsonSchema7"===n.target?l.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===n.target&&(l.$schema="https://json-schema.org/draft/2019-09/schema#"),l};var Kt={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Xt={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},Qt={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},er={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},tr={code:"4",name:"assistant_message",parse:e=>{if(!(null!=e&&"object"==typeof e&&"id"in e&&"role"in e&&"content"in e&&"string"==typeof e.id&&"string"==typeof e.role&&"assistant"===e.role&&Array.isArray(e.content)&&e.content.every(r=>null!=r&&"object"==typeof r&&"type"in r&&"text"===r.type&&"text"in r&&null!=r.text&&"object"==typeof r.text&&"value"in r.text&&"string"==typeof r.text.value)))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},rr={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},nr={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},ar={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(r=>!(null!=r&&"object"==typeof r&&"id"in r&&"string"==typeof r.id&&"type"in r&&"string"==typeof r.type&&"function"in r&&null!=r.function&&"object"==typeof r.function&&"arguments"in r.function&&"string"==typeof r.function.name&&"string"==typeof r.function.arguments)))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},sr={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},or={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},ir={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},lr={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},ur={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},cr={code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const r={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(r.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:r}}},dr={code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const r={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(r.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(r.isContinued=e.isContinued),{type:"finish_step",value:r}}},$s=[Kt,Xt,Qt,er,tr,rr,nr,ar,sr,or,ir,lr,ur,cr,dr];$s.map(e=>e.code);var $n=Symbol.for("vercel.ai.schema");function Ls(e){return function oc(e){return"object"==typeof e&&null!==e&&$n in e&&!0===e[$n]&&"jsonSchema"in e&&"validate"in e}(e)?e:function ic(e){return function sc(e,{validate:r}={}){return{[$n]:!0,_type:void 0,[Tr]:!0,jsonSchema:e,validate:r}}(Wu(e),{validate:r=>{const t=e.safeParse(r);return t.success?{success:!0,value:t.data}:{success:!1,error:t.error}}})}(e)}var lc=Object.defineProperty,Js=(e,r)=>{for(var t in r)lc(e,t,{get:r[t],enumerable:!0})};function Zn(){return Zn=(0,x.A)(function*(e){return void 0===e?Promise.resolve():new Promise(r=>setTimeout(r,e))}),Zn.apply(this,arguments)}var Bs,Un="AI_RetryError",Fs=`vercel.ai.error.${Un}`,cc=Symbol.for(Fs),Vs=class extends N{constructor({message:e,reason:r,errors:t}){super({name:Un,message:e}),this[Bs]=!0,this.reason=r,this.errors=t,this.lastError=t[t.length-1]}static isInstance(e){return N.hasMarker(e,Fs)}static isRetryError(e){return e instanceof Error&&e.name===Un&&"string"==typeof e.reason&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};Bs=cc;var St=({maxRetries:e=2,initialDelayInMs:r=2e3,backoffFactor:t=2}={})=>function(){var n=(0,x.A)(function*(a){return zs(a,{maxRetries:e,delayInMs:r,backoffFactor:t})});return function(a){return n.apply(this,arguments)}}();function zs(e,r){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,x.A)(function*(e,{maxRetries:r,delayInMs:t,backoffFactor:n},a=[]){try{return yield e()}catch(s){if(xr(s)||0===r)throw s;const o=function hi(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}(s),i=[...a,s],l=i.length;if(l>r)throw new Vs({message:`Failed after ${l} attempts. Last error: ${o}`,reason:"maxRetriesExceeded",errors:i});if(s instanceof Error&&Fe.isAPICallError(s)&&!0===s.isRetryable&&l<=r)return yield function uc(e){return Zn.apply(this,arguments)}(t),zs(e,{maxRetries:r,delayInMs:n*t,backoffFactor:n},i);throw 1===l?s:new Vs({message:`Failed after ${l} attempts with non-retryable error: '${o}'`,reason:"errorNotRetryable",errors:i})}}),Gn.apply(this,arguments)}function ve({operationId:e,telemetry:r}){return{"operation.name":`${e}${null!=(null==r?void 0:r.functionId)?` ${r.functionId}`:""}`,"resource.name":null==r?void 0:r.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==r?void 0:r.functionId}}var dc={startSpan:()=>jr,startActiveSpan:(e,r,t,n)=>"function"==typeof r?r(jr):"function"==typeof t?t(jr):"function"==typeof n?n(jr):void 0},jr={spanContext:()=>pc,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},pc={traceId:"",spanId:"",traceFlags:0};function _e({name:e,tracer:r,attributes:t,fn:n,endWhenDone:a=!0}){return r.startActiveSpan(e,{attributes:t},function(){var s=(0,x.A)(function*(o){try{const i=yield n(o);return a&&o.end(),i}catch(i){try{i instanceof Error?(o.recordException({name:i.name,message:i.message,stack:i.stack}),o.setStatus({code:pn.ERROR,message:i.message})):o.setStatus({code:pn.ERROR})}finally{o.end()}throw i}});return function(o){return s.apply(this,arguments)}}())}function L({telemetry:e,attributes:r}){return!0!==(null==e?void 0:e.isEnabled)?{}:Object.entries(r).reduce((t,[n,a])=>{if(void 0===a)return t;if("object"==typeof a&&"input"in a&&"function"==typeof a.input){if(!1===(null==e?void 0:e.recordInputs))return t;const s=a.input();return void 0===s?t:{...t,[n]:s}}if("object"==typeof a&&"output"in a&&"function"==typeof a.output){if(!1===(null==e?void 0:e.recordOutputs))return t;const s=a.output();return void 0===s?t:{...t,[n]:s}}return{...t,[n]:a}},{})}var Ys,Jn="AI_DownloadError",Hs=`vercel.ai.error.${Jn}`,hc=Symbol.for(Hs),Fn=class extends N{constructor({url:e,statusCode:r,statusText:t,cause:n,message:a=(null==n?`Failed to download ${e}: ${r} ${t}`:`Failed to download ${e}: ${n}`)}){super({name:Jn,message:a,cause:n}),this[Ys]=!0,this.url=e,this.statusCode=r,this.statusText=t}static isInstance(e){return N.hasMarker(e,Hs)}static isDownloadError(e){return e instanceof Error&&e.name===Jn&&"string"==typeof e.url&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.statusText||"string"==typeof e.statusText)}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};function gc(e){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,x.A)(function*({url:e,fetchImplementation:r=fetch}){var t;const n=e.toString();try{const a=yield r(n);if(!a.ok)throw new Fn({url:n,statusCode:a.status,statusText:a.statusText});return{data:new Uint8Array(yield a.arrayBuffer()),mimeType:null!=(t=a.headers.get("content-type"))?t:void 0}}catch(a){throw Fn.isInstance(a)?a:new Fn({url:n,cause:a})}}),Bn.apply(this,arguments)}Ys=hc;var Xs,yc=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}],Vn="AI_InvalidDataContentError",Ks=`vercel.ai.error.${Vn}`,_c=Symbol.for(Ks),Qs=class extends N{constructor({content:e,cause:r,message:t=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:Vn,message:t,cause:r}),this[Xs]=!0,this.content=e}static isInstance(e){return N.hasMarker(e,Ks)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===Vn&&null!=e.content}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};Xs=_c;var eo=m.union([m.string(),m.instanceof(Uint8Array),m.instanceof(ArrayBuffer),m.custom(e=>{var r,t;return null!=(t=null==(r=globalThis.Buffer)?void 0:r.isBuffer(e))&&t},{message:"Must be a Buffer"})]);function bc(e){return"string"==typeof e?e:e instanceof ArrayBuffer?rn(new Uint8Array(e)):rn(e)}function Dr(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return function Ni(e){const r=e.replace(/-/g,"+").replace(/_/g,"/"),t=Ai(r);return Uint8Array.from(t,n=>n.codePointAt(0))}(e)}catch(r){throw new Qs({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:r})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new Qs({content:e})}function xc(e){try{return(new TextDecoder).decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var ro,zn="AI_InvalidMessageRoleError",to=`vercel.ai.error.${zn}`,Tc=Symbol.for(to),wc=class extends N{constructor({role:e,message:r=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:zn,message:r}),this[ro]=!0,this.role=e}static isInstance(e){return N.hasMarker(e,to)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===zn&&"string"==typeof e.role}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};function It(e){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,x.A)(function*({prompt:e,modelSupportsImageUrls:r=!0,modelSupportsUrl:t=(()=>!1),downloadImplementation:n=gc}){const a=yield function Ec(e,r,t,n){return Hn.apply(this,arguments)}(e.messages,n,r,t);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(s=>function kc(e,r){const t=e.role;switch(t){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return"string"==typeof e.content?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(n=>function Ic(e,r){if("text"===e.type)return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let n,a,s,t=e.mimeType;const o=e.type;switch(o){case"image":n=e.image;break;case"file":n=e.data;break;default:throw new Error(`Unsupported part type: ${o}`)}try{a="string"==typeof n?new URL(n):n}catch{a=n}if(a instanceof URL)if("data:"===a.protocol){const{mimeType:i,base64Content:l}=function Sc(e){try{const[r,t]=e.split(",");return{mimeType:r.split(";")[0].split(":")[1],base64Content:t}}catch{return{mimeType:void 0,base64Content:void 0}}}(a.toString());if(null==i||null==l)throw new Error(`Invalid data URL format in part ${o}`);t=i,s=Dr(l)}else{const i=r[a.toString()];i?(s=i.data,null!=t||(t=i.mimeType)):s=a}else s=Dr(a);switch(o){case"image":return null==t&&s instanceof Uint8Array&&(t=function vc(e){for(const{bytes:r,mimeType:t}of yc)if(e.length>=r.length&&r.every((n,a)=>e[a]===n))return t}(s)),{type:"image",image:s,mimeType:t,providerMetadata:e.experimental_providerMetadata};case"file":if(null==t)throw new Error("Mime type is missing for file part");return{type:"file",data:s instanceof Uint8Array?bc(s):s,mimeType:t,providerMetadata:e.experimental_providerMetadata}}}(n,r)).filter(n=>"text"!==n.type||""!==n.text),providerMetadata:e.experimental_providerMetadata};case"assistant":return"string"==typeof e.content?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(n=>"text"!==n.type||""!==n.text).map(n=>{const{experimental_providerMetadata:a,...s}=n;return{...s,providerMetadata:a}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n.result,content:n.experimental_content,isError:n.isError,providerMetadata:n.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:throw new wc({role:t})}}(s,a))]}),Wn.apply(this,arguments)}function Hn(){return Hn=(0,x.A)(function*(e,r,t,n){const a=e.filter(o=>"user"===o.role).map(o=>o.content).filter(o=>Array.isArray(o)).flat().filter(o=>"image"===o.type||"file"===o.type).filter(o=>!("image"===o.type&&!0===t)).map(o=>"image"===o.type?o.image:o.data).map(o=>"string"==typeof o&&(o.startsWith("http:")||o.startsWith("https:"))?new URL(o):o).filter(o=>o instanceof URL).filter(o=>!n(o)),s=yield Promise.all(a.map(function(){var o=(0,x.A)(function*(i){return{url:i,data:yield r({url:i})}});return function(i){return o.apply(this,arguments)}}()));return Object.fromEntries(s.map(({url:o,data:i})=>[o.toString(),i]))}),Hn.apply(this,arguments)}ro=Tc;var ao,Yn="AI_InvalidArgumentError",no=`vercel.ai.error.${Yn}`,Cc=Symbol.for(no),K=class extends N{constructor({parameter:e,value:r,message:t}){super({name:Yn,message:`Invalid argument for parameter ${e}: ${t}`}),this[ao]=!0,this.parameter=e,this.value=r}static isInstance(e){return N.hasMarker(e,no)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===Yn&&"string"==typeof e.parameter&&"string"==typeof e.value}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};ao=Cc;var Kn=m.lazy(()=>m.union([m.null(),m.string(),m.number(),m.boolean(),m.record(m.string(),Kn),m.array(Kn)])),st=m.record(m.string(),m.record(m.string(),Kn)),Ac=m.array(m.union([m.object({type:m.literal("text"),text:m.string()}),m.object({type:m.literal("image"),data:m.string(),mimeType:m.string().optional()})])),so=m.object({type:m.literal("text"),text:m.string(),experimental_providerMetadata:st.optional()}),Nc=m.object({type:m.literal("image"),image:m.union([eo,m.instanceof(URL)]),mimeType:m.string().optional(),experimental_providerMetadata:st.optional()}),Rc=m.object({type:m.literal("file"),data:m.union([eo,m.instanceof(URL)]),mimeType:m.string(),experimental_providerMetadata:st.optional()}),Oc=m.object({type:m.literal("tool-call"),toolCallId:m.string(),toolName:m.string(),args:m.unknown()}),Pc=m.object({type:m.literal("tool-result"),toolCallId:m.string(),toolName:m.string(),result:m.unknown(),content:Ac.optional(),isError:m.boolean().optional(),experimental_providerMetadata:st.optional()}),Mc=m.object({role:m.literal("system"),content:m.string(),experimental_providerMetadata:st.optional()}),jc=m.object({role:m.literal("user"),content:m.union([m.string(),m.array(m.union([so,Nc,Rc]))]),experimental_providerMetadata:st.optional()}),Dc=m.object({role:m.literal("assistant"),content:m.union([m.string(),m.array(m.union([so,Oc]))]),experimental_providerMetadata:st.optional()}),$c=m.object({role:m.literal("tool"),content:m.array(Pc),experimental_providerMetadata:st.optional()}),Zc=m.union([Mc,jc,Dc,$c]);function Gc(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function qc(e){var r,t,n;const a=[];for(const s of e){let o;try{o=new URL(s.url)}catch{throw new Error(`Invalid URL: ${s.url}`)}switch(o.protocol){case"http:":case"https:":if(null!=(r=s.contentType)&&r.startsWith("image/"))a.push({type:"image",image:o});else{if(!s.contentType)throw new Error("If the attachment is not an image, it must specify a content type");a.push({type:"file",data:o,mimeType:s.contentType})}break;case"data:":{let i,l,u;try{[i,l]=s.url.split(","),u=i.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${s.url}`)}if(null==u||null==l)throw new Error(`Invalid data URL format: ${s.url}`);if(null!=(t=s.contentType)&&t.startsWith("image/"))a.push({type:"image",image:Dr(l)});else if(null!=(n=s.contentType)&&n.startsWith("text/"))a.push({type:"text",text:xc(Dr(l))});else{if(!s.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");a.push({type:"file",data:l,mimeType:s.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${o.protocol}`)}}return a}var lo,oo="AI_MessageConversionError",io=`vercel.ai.error.${oo}`,Lc=Symbol.for(io),uo=class extends N{constructor({originalMessage:e,message:r}){super({name:oo,message:r}),this[lo]=!0,this.originalMessage=e}static isInstance(e){return N.hasMarker(e,io)}};function $r(e){return{promptTokens:e.promptTokens,completionTokens:e.completionTokens,totalTokens:e.promptTokens+e.completionTokens}}function pt(e,{contentType:r,dataStreamVersion:t}){var n;const a=new Headers(null!=(n=null==e?void 0:e.headers)?n:{});return a.has("Content-Type")||a.set("Content-Type",r),void 0!==t&&a.set("X-Vercel-AI-Data-Stream",t),a}lo=Lc;Symbol.for("vercel.ai.error.AI_NoObjectGeneratedError");Dt({prefix:"aiobj",size:24}),Dt({prefix:"aiobj",size:24});var yo,aa="AI_InvalidToolArgumentsError",go=`vercel.ai.error.${aa}`,nd=Symbol.for(go),ad=class extends N{constructor({toolArgs:e,toolName:r,cause:t,message:n=`Invalid arguments for tool ${r}: ${Jr(t)}`}){super({name:aa,message:n,cause:t}),this[yo]=!0,this.toolArgs=e,this.toolName=r}static isInstance(e){return N.hasMarker(e,go)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===aa&&"string"==typeof e.toolName&&"string"==typeof e.toolArgs}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};yo=nd;var _o,sa="AI_NoSuchToolError",vo=`vercel.ai.error.${sa}`,sd=Symbol.for(vo),Ur=class extends N{constructor({toolName:e,availableTools:r,message:t=`Model tried to call unavailable tool '${e}'. ${void 0===r?"No tools are available.":`Available tools: ${r.join(", ")}.`}`}){super({name:sa,message:t}),this[_o]=!0,this.toolName=e,this.availableTools=r}static isInstance(e){return N.hasMarker(e,vo)}static isNoSuchToolError(e){return e instanceof Error&&e.name===sa&&"toolName"in e&&null!=e.toolName&&"string"==typeof e.name}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};function bo({tools:e,toolChoice:r,activeTools:t}){return function od(e){return null!=e&&Object.keys(e).length>0}(e)?{tools:(null!=t?Object.entries(e).filter(([a])=>t.includes(a)):Object.entries(e)).map(([a,s])=>{const o=s.type;switch(o){case void 0:case"function":return{type:"function",name:a,description:s.description,parameters:Ls(s.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:a,id:s.id,args:s.args};default:throw new Error(`Unsupported tool type: ${o}`)}}),toolChoice:null==r?{type:"auto"}:"string"==typeof r?{type:r}:{type:"tool",toolName:r.toolName}}:{tools:void 0,toolChoice:void 0}}_o=sd;var id=/^([\s\S]*?)(\s+)(\S*)$/;function ld(e){const r=function xo(e){const r=e.match(id);return r?{prefix:r[1],whitespace:r[2],suffix:r[3]}:void 0}(e);return r?r.prefix+r.whitespace:e}function To({toolCall:e,tools:r}){const t=e.toolName;if(null==r)throw new Ur({toolName:e.toolName});const n=r[t];if(null==n)throw new Ur({toolName:e.toolName,availableTools:Object.keys(r)});const a=Ls(n.parameters),s=""===e.args.trim()?wr({value:{},schema:a}):Sr({text:e.args,schema:a});if(!1===s.success)throw new ad({toolName:t,toolArgs:e.args,cause:s.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:t,args:s.value}}function wo({text:e="",tools:r,toolCalls:t,toolResults:n}){const a=[];return a.push({role:"assistant",content:[{type:"text",text:e},...t]}),n.length>0&&a.push({role:"tool",content:n.map(s=>{const o=r[s.toolName];return null!=(null==o?void 0:o.experimental_toToolResultContent)?{type:"tool-result",toolCallId:s.toolCallId,toolName:s.toolName,result:o.experimental_toToolResultContent(s.result),experimental_content:o.experimental_toToolResultContent(s.result)}:{type:"tool-result",toolCallId:s.toolCallId,toolName:s.toolName,result:s.result}})}),a}var ud=Dt({prefix:"aitxt",size:24});function oa(){return oa=(0,x.A)(function*({model:e,tools:r,toolChoice:t,system:n,prompt:a,messages:s,maxRetries:o,abortSignal:i,headers:l,maxAutomaticRoundtrips:u=0,maxToolRoundtrips:c=u,maxSteps:d=(null!=c?c+1:1),experimental_continuationSteps:p,experimental_continueSteps:f=null!=p&&p,experimental_telemetry:h,experimental_providerMetadata:_,experimental_activeTools:C,_internal:{generateId:g=ud,currentDate:b=(()=>new Date)}={},onStepFinish:I,...w}){if(d<1)throw new K({parameter:"maxSteps",value:d,message:"maxSteps must be at least 1"});const R=function kt({model:e,settings:r,telemetry:t,headers:n}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(r).reduce((s,[o,i])=>(s[`ai.settings.${o}`]=i,s),{}),...Object.entries(null!=(a=null==t?void 0:t.metadata)?a:{}).reduce((s,[o,i])=>(s[`ai.telemetry.metadata.${o}`]=i,s),{}),...Object.entries(null!=n?n:{}).reduce((s,[o,i])=>(void 0!==i&&(s[`ai.request.headers.${o}`]=i),s),{})}}({model:e,telemetry:h,headers:l,settings:{...w,maxRetries:o}}),k=function At({prompt:e,tools:r}){if(null==e.prompt&&null==e.messages)throw new gt({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new gt({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new gt({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new gt({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){const t=function Uc(e){if(!Array.isArray(e))return"other";if(0===e.length)return"messages";const r=e.map(Gc);return r.some(t=>"has-ui-specific-parts"===t)?"ui-messages":r.every(t=>"has-core-specific-parts"===t||"message"===t)?"messages":"other"}(e.messages);if("other"===t)throw new gt({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});const n="ui-messages"===t?function Jc(e,r){var t;const n=null!=(t=null==r?void 0:r.tools)?t:{},a=[];for(const s of e){const{role:o,content:i,toolInvocations:l,experimental_attachments:u}=s;switch(o){case"system":a.push({role:"system",content:i});break;case"user":a.push({role:"user",content:u?[{type:"text",text:i},...qc(u)]:i});break;case"assistant":if(null==l){a.push({role:"assistant",content:i});break}a.push({role:"assistant",content:[{type:"text",text:i},...l.map(({toolCallId:c,toolName:d,args:p})=>({type:"tool-call",toolCallId:c,toolName:d,args:p}))]}),a.push({role:"tool",content:l.map(c=>{if(!("result"in c))throw new uo({originalMessage:s,message:"ToolInvocation must have a result: "+JSON.stringify(c)});const{toolCallId:d,toolName:p,result:f}=c,h=n[p];return null!=(null==h?void 0:h.experimental_toToolResultContent)?{type:"tool-result",toolCallId:d,toolName:p,result:h.experimental_toToolResultContent(f),experimental_content:h.experimental_toToolResultContent(f)}:{type:"tool-result",toolCallId:d,toolName:p,result:f}})});break;case"function":case"data":case"tool":break;default:throw new uo({originalMessage:s,message:`Unsupported role: ${o}`})}}return a}(e.messages,{tools:r}):e.messages,a=wr({value:n,schema:m.array(Zc)});if(!a.success)throw new gt({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:a.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}({prompt:{system:n,prompt:a,messages:s},tools:r}),T=function Et({isEnabled:e=!1,tracer:r}={}){return e?r||fl.getTracer("ai"):dc}(h);return _e({name:"ai.generateText",attributes:L({telemetry:h,attributes:{...ve({operationId:"ai.generateText",telemetry:h}),...R,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:a,messages:s})},"ai.settings.maxSteps":d}}),tracer:T,fn:(D=(0,x.A)(function*(F){var ee,B,Z,X,de,we;const Ae=St({maxRetries:o}),U={type:"regular",...bo({tools:r,toolChoice:t,activeTools:C})},G=function Ct({maxTokens:e,temperature:r,topP:t,topK:n,presencePenalty:a,frequencyPenalty:s,stopSequences:o,seed:i,maxRetries:l}){if(null!=e){if(!Number.isInteger(e))throw new K({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new K({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=r&&"number"!=typeof r)throw new K({parameter:"temperature",value:r,message:"temperature must be a number"});if(null!=t&&"number"!=typeof t)throw new K({parameter:"topP",value:t,message:"topP must be a number"});if(null!=n&&"number"!=typeof n)throw new K({parameter:"topK",value:n,message:"topK must be a number"});if(null!=a&&"number"!=typeof a)throw new K({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(null!=s&&"number"!=typeof s)throw new K({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(null!=i&&!Number.isInteger(i))throw new K({parameter:"seed",value:i,message:"seed must be an integer"});if(null!=l){if(!Number.isInteger(l))throw new K({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new K({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:null!=r?r:0,topP:t,topK:n,presencePenalty:a,frequencyPenalty:s,stopSequences:null!=o&&o.length>0?o:void 0,seed:i,maxRetries:null!=l?l:2}}(w);let M,le=[],oe=[],Y=0;const Q=[];let V="";const Je=[],me={completionTokens:0,promptTokens:0,totalTokens:0};let ue="initial";do{1===Y&&(k.type="messages");const Se=0===Y?k.type:"messages",Ue=yield It({prompt:{type:Se,system:k.system,messages:[...k.messages,...Q]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl});M=yield Ae(()=>{return _e({name:"ai.generateText.doGenerate",attributes:L({telemetry:h,attributes:{...ve({operationId:"ai.generateText.doGenerate",telemetry:h}),...R,"ai.prompt.format":{input:()=>Se},"ai.prompt.messages":{input:()=>JSON.stringify(Ue)},"ai.prompt.tools":{input:()=>{var he;return null==(he=U.tools)?void 0:he.map(Ee=>JSON.stringify(Ee))}},"ai.prompt.toolChoice":{input:()=>null!=U.toolChoice?JSON.stringify(U.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":w.frequencyPenalty,"gen_ai.request.max_tokens":w.maxTokens,"gen_ai.request.presence_penalty":w.presencePenalty,"gen_ai.request.stop_sequences":w.stopSequences,"gen_ai.request.temperature":w.temperature,"gen_ai.request.top_k":w.topK,"gen_ai.request.top_p":w.topP}}),tracer:T,fn:(he=(0,x.A)(function*(Ee){var fr,je,Xe,be,Ne,Qe;const pe=yield e.doGenerate({mode:U,...G,inputFormat:Se,prompt:Ue,providerMetadata:_,abortSignal:i,headers:l}),Re={id:null!=(je=null==(fr=pe.response)?void 0:fr.id)?je:g(),timestamp:null!=(be=null==(Xe=pe.response)?void 0:Xe.timestamp)?be:b(),modelId:null!=(Qe=null==(Ne=pe.response)?void 0:Ne.modelId)?Qe:e.modelId};return Ee.setAttributes(L({telemetry:h,attributes:{"ai.response.finishReason":pe.finishReason,"ai.response.text":{output:()=>pe.text},"ai.response.toolCalls":{output:()=>JSON.stringify(pe.toolCalls)},"ai.response.id":Re.id,"ai.response.model":Re.modelId,"ai.response.timestamp":Re.timestamp.toISOString(),"ai.usage.promptTokens":pe.usage.promptTokens,"ai.usage.completionTokens":pe.usage.completionTokens,"ai.finishReason":pe.finishReason,"ai.result.text":{output:()=>pe.text},"ai.result.toolCalls":{output:()=>JSON.stringify(pe.toolCalls)},"gen_ai.response.finish_reasons":[pe.finishReason],"gen_ai.response.id":Re.id,"gen_ai.response.model":Re.modelId,"gen_ai.usage.input_tokens":pe.usage.promptTokens,"gen_ai.usage.output_tokens":pe.usage.completionTokens}})),{...pe,response:Re}}),function(fr){return he.apply(this,arguments)})});var he}),le=(null!=(ee=M.toolCalls)?ee:[]).map(he=>To({toolCall:he,tools:r})),oe=null==r?[]:yield dd({toolCalls:le,tools:r,tracer:T,telemetry:h,abortSignal:i});const ke=$r(M.usage);me.completionTokens+=ke.completionTokens,me.promptTokens+=ke.promptTokens,me.totalTokens+=ke.totalTokens;let re="done";++Y<d&&(f&&"length"===M.finishReason&&0===le.length?re="continue":le.length>0&&oe.length===le.length&&(re="tool-result"));const H=null!=(B=M.text)?B:"",ne="continue"===ue&&V.trimEnd()!==V?H.trimStart():H,Ge="continue"===re?ld(ne):ne;if(V="continue"===re||"continue"===ue?V+Ge:Ge,"continue"===ue){const he=Q[Q.length-1];"string"==typeof he.content?he.content+=Ge:he.content.push({text:Ge,type:"text"})}else Q.push(...wo({text:V,tools:null!=r?r:{},toolCalls:le,toolResults:oe}));const ce={stepType:ue,text:Ge,toolCalls:le,toolResults:oe,finishReason:M.finishReason,usage:ke,warnings:M.warnings,logprobs:M.logprobs,request:null!=(Z=M.request)?Z:{},response:{...M.response,headers:null==(X=M.rawResponse)?void 0:X.headers,messages:JSON.parse(JSON.stringify(Q))},experimental_providerMetadata:M.providerMetadata,isContinued:"continue"===re};Je.push(ce),yield null==I?void 0:I(ce),ue=re}while("done"!==ue);return F.setAttributes(L({telemetry:h,attributes:{"ai.response.finishReason":M.finishReason,"ai.response.text":{output:()=>M.text},"ai.response.toolCalls":{output:()=>JSON.stringify(M.toolCalls)},"ai.usage.promptTokens":M.usage.promptTokens,"ai.usage.completionTokens":M.usage.completionTokens,"ai.finishReason":M.finishReason,"ai.result.text":{output:()=>M.text},"ai.result.toolCalls":{output:()=>JSON.stringify(M.toolCalls)}}})),new pd({text:V,toolCalls:le,toolResults:oe,finishReason:M.finishReason,usage:me,warnings:M.warnings,request:null!=(de=M.request)?de:{},response:{...M.response,headers:null==(we=M.rawResponse)?void 0:we.headers,messages:Q},logprobs:M.logprobs,responseMessages:Q,steps:Je,providerMetadata:M.providerMetadata})}),function(ee){return D.apply(this,arguments)})});var D}),oa.apply(this,arguments)}function dd(e){return ia.apply(this,arguments)}function ia(){return ia=(0,x.A)(function*({toolCalls:e,tools:r,tracer:t,telemetry:n,abortSignal:a}){return(yield Promise.all(e.map(function(){var o=(0,x.A)(function*(i){const l=r[i.toolName];if(null==(null==l?void 0:l.execute))return;const u=yield _e({name:"ai.toolCall",attributes:L({telemetry:n,attributes:{...ve({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":i.toolName,"ai.toolCall.id":i.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(i.args)}}}),tracer:t,fn:(c=(0,x.A)(function*(d){const p=yield l.execute(i.args,{abortSignal:a});try{d.setAttributes(L({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(p)}}}))}catch{}return p}),function(p){return c.apply(this,arguments)})});var c;return{toolCallId:i.toolCallId,toolName:i.toolName,args:i.args,result:u}});return function(i){return o.apply(this,arguments)}}()))).filter(o=>null!=o)}),ia.apply(this,arguments)}var pd=class{constructor(e){this.text=e.text,this.toolCalls=e.toolCalls,this.toolResults=e.toolResults,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.request=e.request,this.response=e.response,this.responseMessages=e.responseMessages,this.roundtrips=e.steps,this.steps=e.steps,this.experimental_providerMetadata=e.providerMetadata,this.rawResponse={headers:e.response.headers},this.logprobs=e.logprobs}};function pr(e,r){const t=e.getReader(),n=r.getReader();let a,s,o=!1,i=!1;function l(p){return u.apply(this,arguments)}function u(){return(u=(0,x.A)(function*(p){try{null==a&&(a=t.read());const f=yield a;a=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}})).apply(this,arguments)}function c(p){return d.apply(this,arguments)}function d(){return(d=(0,x.A)(function*(p){try{null==s&&(s=n.read());const f=yield s;s=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}})).apply(this,arguments)}return new ReadableStream({pull:p=>(0,x.A)(function*(){try{if(o)return void(yield c(p));if(i)return void(yield l(p));null==a&&(a=t.read()),null==s&&(s=n.read());const{result:f,reader:h}=yield Promise.race([a.then(_=>({result:_,reader:t})),s.then(_=>({result:_,reader:n}))]);f.done||p.enqueue(f.value),h===t?(a=void 0,f.done&&(yield c(p),o=!0)):(s=void 0,f.done&&(i=!0,yield l(p)))}catch(f){p.error(f)}})(),cancel(){t.cancel(),n.cancel()}})}Dt({prefix:"aitxt",size:24});Symbol.for("vercel.ai.error.AI_NoSuchProviderError");function Ze(e){const r=new TextEncoder;let t="";const n=e||{};return new TransformStream({start:()=>(0,x.A)(function*(){n.onStart&&(yield n.onStart())})(),transform:(a,s)=>(0,x.A)(function*(){const o="string"==typeof a?a:a.content;s.enqueue(r.encode(o)),t+=o,n.onToken&&(yield n.onToken(o)),n.onText&&"string"==typeof a&&(yield n.onText(a))})(),flush:()=>(0,x.A)(function*(){const a=function xd(e){return"experimental_onFunctionCall"in e}(n);n.onCompletion&&(yield n.onCompletion(t)),n.onFinal&&!a&&(yield n.onFinal(t))})()})}function Ce(){const e=new TextEncoder,r=new TextDecoder;return new TransformStream({transform:(t=(0,x.A)(function*(n,a){const s=r.decode(n);a.enqueue(e.encode(function Qu(e,r){const t=$s.find(n=>n.name===e);if(!t)throw new Error(`Invalid stream part type: ${e}`);return`${t.code}:${JSON.stringify(r)}\n`}("text",s)))}),function(a,s){return t.apply(this,arguments)})});var t}function Pd(e,r){return ya(e,r)}function ya(e,r){return e.pipeThrough(new TransformStream({transform:(t=(0,x.A)(function*(n,a){var s;"string"!=typeof n?"event"in n?"on_chat_model_stream"===n.event&&Ao(null==(s=n.data)?void 0:s.chunk,a):Ao(n,a):a.enqueue(n)}),function(a,s){return t.apply(this,arguments)})})).pipeThrough(Ze(r)).pipeThrough(Ce());var t}function Md(e,r){var t;const n=ya(e,null==r?void 0:r.callbacks),a=null==r?void 0:r.data,s=null==r?void 0:r.init,o=a?pr(a.stream,n):n;return new Response(o,{status:null!=(t=null==s?void 0:s.status)?t:200,statusText:null==s?void 0:s.statusText,headers:pt(s,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function Ao(e,r){if("string"==typeof e.content)r.enqueue(e.content);else{const t=e.content;for(const n of t)"text"===n.type&&r.enqueue(n.text)}}function No(e,r){return function $d(e){const r=e[Symbol.asyncIterator](),t=function ca(){let e=!0;return r=>(e&&(r=r.trimStart())&&(e=!1),r)}();return new ReadableStream({pull:n=>(0,x.A)(function*(){var a;const{value:s,done:o}=yield r.next();if(o)return void n.close();const i=t(null!=(a=s.delta)?a:"");i&&n.enqueue(i)})()})}(e).pipeThrough(Ze(r)).pipeThrough(Ce())}function Dd(e,r={}){var t;const{init:n,data:a,callbacks:s}=r,o=No(e,s),i=a?pr(a.stream,o):o;return new Response(i,{status:null!=(t=null==n?void 0:n.status)?t:200,statusText:null==n?void 0:n.statusText,headers:pt(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function Ve(e){if(function Fd(e){return null!=e&&"object"==typeof e&&"object"===e.type&&(null==e.properties||0===Object.keys(e.properties).length)}(e))return;if("boolean"==typeof e)return{type:"boolean",properties:{}};const{type:r,description:t,required:n,properties:a,items:s,allOf:o,anyOf:i,oneOf:l,format:u,const:c,minLength:d}=e,p={};return t&&(p.description=t),n&&(p.required=n),u&&(p.format=u),void 0!==c&&(p.enum=[c]),r&&(Array.isArray(r)?r.includes("null")?(p.type=r.filter(f=>"null"!==f)[0],p.nullable=!0):p.type=r:p.type="null"===r?"null":r),null!=a&&(p.properties=Object.entries(a).reduce((f,[h,_])=>(f[h]=Ve(_),f),{})),s&&(p.items=Array.isArray(s)?s.map(Ve):Ve(s)),o&&(p.allOf=o.map(Ve)),i&&(p.anyOf=i.map(Ve)),l&&(p.oneOf=l.map(Ve)),void 0!==d&&(p.minLength=d),p}function Mo(e){return e.includes("/")?e:`models/${e}`}new TextDecoder("utf-8"),Js({},{toAIStream:()=>Pd,toDataStream:()=>ya,toDataStreamResponse:()=>Md}),Js({},{toDataStream:()=>No,toDataStreamResponse:()=>Dd}),Symbol("internal_openai_fn_messages"),Response;var xa=(({errorSchema:e,errorToMessage:r,isRetryable:t})=>function(){var n=(0,x.A)(function*({response:a,url:s,requestBodyValues:o}){const i=yield a.text(),l=jt(a);if(""===i.trim())return{responseHeaders:l,value:new Fe({message:a.statusText,url:s,requestBodyValues:o,statusCode:a.status,responseHeaders:l,responseBody:i,isRetryable:null==t?void 0:t(a)})};try{const u=function Ti({text:e,schema:r}){try{const t=Qa.parse(e);return null==r?t:function xi({value:e,schema:r}){const t=wr({value:e,schema:r});if(!t.success)throw vr.wrap({value:e,cause:t.error});return t.value}({value:t,schema:r})}catch(t){throw gr.isJSONParseError(t)||vr.isTypeValidationError(t)?t:new gr({text:e,cause:t})}}({text:i,schema:e});return{responseHeaders:l,value:new Fe({message:r(u),url:s,requestBodyValues:o,statusCode:a.status,responseHeaders:l,responseBody:i,data:u,isRetryable:null==t?void 0:t(a,u)})}}catch{return{responseHeaders:l,value:new Fe({message:a.statusText,url:s,requestBodyValues:o,statusCode:a.status,responseHeaders:l,responseBody:i,isRetryable:null==t?void 0:t(a)})}}});return function(a){return n.apply(this,arguments)}}())({errorSchema:m.object({error:m.object({code:m.number().nullable(),message:m.string(),status:m.string()})}),errorToMessage:e=>e.error.message});function jo({finishReason:e,hasToolCalls:r}){switch(e){case"STOP":return r?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"RECITATION":case"SAFETY":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";default:return"unknown"}}var Do=class{constructor(e,r,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=r,this.config=t}get supportsObjectGeneration(){return!1!==this.settings.structuredOutputs}get provider(){return this.config.provider}getArgs({mode:e,prompt:r,maxTokens:t,temperature:n,topP:a,topK:s,frequencyPenalty:o,presencePenalty:i,stopSequences:l,responseFormat:u,seed:c}){var d=this;return(0,x.A)(function*(){var p;const f=e.type,h=[];null!=c&&h.push({type:"unsupported-setting",setting:"seed"});const _={maxOutputTokens:t,temperature:n,topK:null!=s?s:d.settings.topK,topP:a,frequencyPenalty:o,presencePenalty:i,stopSequences:l,responseMimeType:"json"===(null==u?void 0:u.type)?"application/json":void 0,responseSchema:"json"===(null==u?void 0:u.type)&&null!=u.schema&&d.supportsObjectGeneration?Ve(u.schema):void 0},{contents:C,systemInstruction:g}=function Bd(e){var r,t;const n=[],a=[];let s=!0;for(const{role:o,content:i}of e)switch(o){case"system":if(!s)throw new _r({functionality:"system messages are only supported at the beginning of the conversation"});n.push({text:i});break;case"user":{s=!1;const l=[];for(const u of i)switch(u.type){case"text":l.push({text:u.text});break;case"image":l.push(u.image instanceof URL?{fileData:{mimeType:null!=(r=u.mimeType)?r:"image/jpeg",fileUri:u.image.toString()}}:{inlineData:{mimeType:null!=(t=u.mimeType)?t:"image/jpeg",data:rn(u.image)}});break;case"file":l.push(u.data instanceof URL?{fileData:{mimeType:u.mimeType,fileUri:u.data.toString()}}:{inlineData:{mimeType:u.mimeType,data:u.data}});break;default:throw new _r({functionality:`prompt part: ${u}`})}a.push({role:"user",parts:l});break}case"assistant":s=!1,a.push({role:"model",parts:i.map(l=>{switch(l.type){case"text":return 0===l.text.length?void 0:{text:l.text};case"tool-call":return{functionCall:{name:l.toolName,args:l.args}}}}).filter(l=>void 0!==l)});break;case"tool":s=!1,a.push({role:"user",parts:i.map(l=>({functionResponse:{name:l.toolName,response:l.result}}))});break;default:throw new Error(`Unsupported role: ${o}`)}return{systemInstruction:n.length>0?{parts:n}:void 0,contents:a}}(r);switch(f){case"regular":{const{tools:b,toolConfig:I,toolWarnings:w}=function zd(e){var r,t;const n=null!=(r=e.tools)&&r.length?e.tools:void 0,a=[];if(null==n)return{tools:void 0,toolConfig:void 0,toolWarnings:a};const s=[];for(const l of n)"provider-defined"===l.type?a.push({type:"unsupported-tool",tool:l}):s.push({name:l.name,description:null!=(t=l.description)?t:"",parameters:Ve(l.parameters)});const o=e.toolChoice;if(null==o)return{tools:{functionDeclarations:s},toolConfig:void 0,toolWarnings:a};const i=o.type;switch(i){case"auto":return{tools:{functionDeclarations:s},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:a};case"none":return{tools:{functionDeclarations:s},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:a};case"required":return{tools:{functionDeclarations:s},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:a};case"tool":return{tools:{functionDeclarations:s},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[o.toolName]}},toolWarnings:a};default:throw new _r({functionality:`Unsupported tool choice type: ${i}`})}}(e);return{args:{generationConfig:_,contents:C,systemInstruction:g,safetySettings:d.settings.safetySettings,tools:b,toolConfig:I,cachedContent:d.settings.cachedContent},warnings:[...h,...w]}}case"object-json":return{args:{generationConfig:{..._,responseMimeType:"application/json",responseSchema:null!=e.schema&&d.supportsObjectGeneration?Ve(e.schema):void 0},contents:C,systemInstruction:g,safetySettings:d.settings.safetySettings,cachedContent:d.settings.cachedContent},warnings:h};case"object-tool":return{args:{generationConfig:_,contents:C,tools:{functionDeclarations:[{name:e.tool.name,description:null!=(p=e.tool.description)?p:"",parameters:Ve(e.tool.parameters)}]},toolConfig:{functionCallingConfig:{mode:"ANY"}},safetySettings:d.settings.safetySettings,cachedContent:d.settings.cachedContent},warnings:h};default:throw new Error(`Unsupported type: ${f}`)}})()}supportsUrl(e){return e.toString().startsWith("https://generativelanguage.googleapis.com/v1beta/files/")}doGenerate(e){var r=this;return(0,x.A)(function*(){var t,n;const{args:a,warnings:s}=yield r.getArgs(e),o=JSON.stringify(a),{responseHeaders:i,value:l}=yield tn({url:`${r.config.baseURL}/${Mo(r.modelId)}:generateContent`,headers:en(r.config.headers(),e.headers),body:a,failedResponseHandler:xa,successfulResponseHandler:ts(Wd),abortSignal:e.abortSignal,fetch:r.config.fetch}),{contents:u,...c}=a,d=l.candidates[0],p=$o({parts:d.content.parts,generateId:r.config.generateId}),f=l.usageMetadata;return{text:Zo(d.content.parts),toolCalls:p,finishReason:jo({finishReason:d.finishReason,hasToolCalls:null!=p&&p.length>0}),usage:{promptTokens:null!=(t=null==f?void 0:f.promptTokenCount)?t:NaN,completionTokens:null!=(n=null==f?void 0:f.candidatesTokenCount)?n:NaN},rawCall:{rawPrompt:u,rawSettings:c},rawResponse:{headers:i},warnings:s,request:{body:o}}})()}doStream(e){var r=this;return(0,x.A)(function*(){const{args:t,warnings:n}=yield r.getArgs(e),a=JSON.stringify(t),{responseHeaders:s,value:o}=yield tn({url:`${r.config.baseURL}/${Mo(r.modelId)}:streamGenerateContent?alt=sse`,headers:en(r.config.headers(),e.headers),body:t,failedResponseHandler:xa,successfulResponseHandler:Ii(Hd),abortSignal:e.abortSignal,fetch:r.config.fetch}),{contents:i,...l}=t;let u="unknown",c={promptTokens:Number.NaN,completionTokens:Number.NaN};const d=r.config.generateId;let p=!1;return{stream:o.pipeThrough(new TransformStream({transform(f,h){var _,C;if(!f.success)return void h.enqueue({type:"error",error:f.error});const g=f.value,b=g.candidates[0];null!=(null==b?void 0:b.finishReason)&&(u=jo({finishReason:b.finishReason,hasToolCalls:p}));const I=g.usageMetadata;null!=I&&(c={promptTokens:null!=(_=I.promptTokenCount)?_:NaN,completionTokens:null!=(C=I.candidatesTokenCount)?C:NaN});const w=b.content;if(null==w)return;const R=Zo(w.parts);null!=R&&h.enqueue({type:"text-delta",textDelta:R});const k=$o({parts:w.parts,generateId:d});if(null!=k)for(const T of k)h.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:T.toolCallId,toolName:T.toolName,argsTextDelta:T.args}),h.enqueue({type:"tool-call",toolCallType:"function",toolCallId:T.toolCallId,toolName:T.toolName,args:T.args}),p=!0},flush(f){f.enqueue({type:"finish",finishReason:u,usage:c})}})),rawCall:{rawPrompt:i,rawSettings:l},rawResponse:{headers:s},warnings:n,request:{body:a}}})()}};function $o({parts:e,generateId:r}){const t=e.filter(n=>"functionCall"in n);return 0===t.length?void 0:t.map(n=>({toolCallType:"function",toolCallId:r(),toolName:n.functionCall.name,args:JSON.stringify(n.functionCall.args)}))}function Zo(e){const r=e.filter(t=>"text"in t);return 0===r.length?void 0:r.map(t=>t.text).join("")}var Uo=m.object({role:m.string(),parts:m.array(m.union([m.object({text:m.string()}),m.object({functionCall:m.object({name:m.string(),args:m.unknown()})})]))}),Wd=m.object({candidates:m.array(m.object({content:Uo,finishReason:m.string().optional()})),usageMetadata:m.object({promptTokenCount:m.number(),candidatesTokenCount:m.number().nullish(),totalTokenCount:m.number()}).optional()}),Hd=m.object({candidates:m.array(m.object({content:Uo.optional(),finishReason:m.string().optional()})),usageMetadata:m.object({promptTokenCount:m.number(),candidatesTokenCount:m.number().nullish(),totalTokenCount:m.number()}).optional()}),Yd=class{constructor(e,r,t){this.specificationVersion="v1",this.modelId=e,this.settings=r,this.config=t}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){return 2048}get supportsParallelCalls(){return!0}doEmbed({values:e,headers:r,abortSignal:t}){var n=this;return(0,x.A)(function*(){if(e.length>n.maxEmbeddingsPerCall)throw new si({provider:n.provider,modelId:n.modelId,maxEmbeddingsPerCall:n.maxEmbeddingsPerCall,values:e});const{responseHeaders:a,value:s}=yield tn({url:`${n.config.baseURL}/models/${n.modelId}:batchEmbedContents`,headers:en(n.config.headers(),r),body:{requests:e.map(o=>({model:`models/${n.modelId}`,content:{role:"user",parts:[{text:o}]},outputDimensionality:n.settings.outputDimensionality}))},failedResponseHandler:xa,successfulResponseHandler:ts(Kd),abortSignal:t,fetch:n.config.fetch});return{embeddings:s.embeddings.map(o=>o.values),usage:void 0,rawResponse:{headers:a}}})()}},Kd=m.object({embeddings:m.array(m.object({values:m.array(m.number())}))});function Go(e={}){var r,t;const n=null!=(t=function Ri(e){return null==e?void 0:e.replace(/\/$/,"")}(null!=(r=e.baseURL)?r:e.baseUrl))?t:"https://generativelanguage.googleapis.com/v1beta",a=()=>({"x-goog-api-key":gi({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers}),s=(l,u={})=>{var c;return new Do(l,u,{provider:"google.generative-ai",baseURL:n,headers:a,generateId:null!=(c=e.generateId)?c:mi,fetch:e.fetch})},o=(l,u={})=>new Yd(l,u,{provider:"google.generative-ai",baseURL:n,headers:a,fetch:e.fetch}),i=function(l,u){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return s(l,u)};return i.languageModel=s,i.chat=s,i.generativeAI=s,i.embedding=o,i.textEmbedding=o,i.textEmbeddingModel=o,i}Go();const Xd=Go({baseURL:"https://generativelanguage.googleapis.com/v1beta",apiKey:"AIzaSyBcH_48qYwJHUarqslis5AghI53A9nskik"})("gemini-1.5-flash");function Ta(){return Ta=(0,x.A)(function*(e){try{return(yield function cd(e){return oa.apply(this,arguments)}({model:Xd,messages:e.message,topP:e.topP,temperature:e.temperature,maxTokens:e.maxTokens,frequencyPenalty:e.frequencyPenalty,presencePenalty:e.presencePenalty,stopSequences:e.stopSequences})).text}catch(r){return console.error(r),null}}),Ta.apply(this,arguments)}var ep=ge(7301);function tp(e,r){1&e&&(P.j41(0,"div",9)(1,"div",10),P.EFF(2,"Loading..."),P.k0s()())}function rp(e,r){if(1&e&&P.nrm(0,"AccordianComponent",11),2&e){const t=P.XpG(2);P.Y8G("data",t.data)("isList",!0)("enableCheckBox",!1)("width",100)}}function np(e,r){if(1&e&&(P.qex(0),P.DNE(1,tp,3,0,"div",6),P.j41(2,"div",7),P.DNE(3,rp,1,4,"AccordianComponent",8),P.k0s(),P.bVm()),2&e){const t=P.XpG();P.R7$(),P.Y8G("ngIf",t.loading),P.R7$(2),P.Y8G("ngIf",!t.loading)}}let ap=(()=>{var e;class r{constructor(n){this.service=n,this.loading=!1,this.onResult=!1,this.comment="",this.submittedComment=""}ngOnInit(){}ngOnDestroy(){this.service.removeIonElement(this.ionContentElementRef)}submitComment(){if(""===this.comment.trim())alert("What are you planning ?");else{this.submittedComment=this.comment,this.onResult=!0;let n=`\n      - Please automatically detect key word for this content:  i require a list about " ${this.submittedComment}", and generates list in the below data format:\n\n              [\n                ["nil", "Planning Phase", [], []],\n                ["nil", "Development Phase", [], []],\n                ["nil", "Deployment & Review", [], []]\n              ]\n      \n      - Based on the suituation you can generate subtask for the paricular main task, if subtask needed for the particular task it can be added inside sub array inside the main array and array of its boolean also needed as below format: \n\n\n        [\n          ["nil", "Planning Phase", ["Define Project Scope", "Gather Requirements", "Identify Stakeholders", "Develop Project Timeline"], [false, false, false, false]],\n          ["nil", "Development Phase", ["Create Development Environment", "Code Implementation", "Testing and Debugging", "Integration Testing"], [false, false, false, false]],\n          ["nil", "Deployment & Review", ["Deploy to Production", "Conduct User Training", "Gather User Feedback", "Post-Deployment Review"], [false, false, false, false]]\n        ]\n\n        - It is not always mandatory to add subtask, if only in the applicable scenario. If the requirement is more specific for example: list of 10 cricket players, you can generate simply of your own know players without a subtask leaving it as empty array also its boolean array as below: \n\n             [\n                ["nil", "Sachin Tendulkar", [], []],\n                ["nil", "Virat kholi", [], []],\n                ["nil", "Dhni", [], []]\n\n                ....\n              ]\n\n      - Above example is only the example data for your understanding youn should generate you own set of data. \n\n      -  Do not include any additional text or information just return only the data with no additional characters.`;this.loading=!0,function Qd(e){return Ta.apply(this,arguments)}({message:[{role:"user",content:n}]}).then(s=>{this.loading=!1;const o=JSON.parse(s);this.data=o}),this.comment=""}}}return(e=r).\u0275fac=function(n){return new(n||e)(P.rXU(ep.k))},e.\u0275cmp=P.VBU({type:e,selectors:[["app-ai-generate-form"]],viewQuery:function(n,a){if(1&n&&P.GBs(ht.W9,5,P.aKT),2&n){let s;P.mGM(s=P.lsd())&&(a.ionContentElementRef=s.first)}},standalone:!0,features:[P.aNF],decls:10,vars:2,consts:[[1,"container"],[1,"fas","fa-bolt"],[1,"textarea-container"],["placeholder","Write your comment here...","rows","5","cols","50",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"accordion-container"],[3,"data","isList","enableCheckBox","width",4,"ngIf"],[1,"loading-container"],[1,"loading"],[3,"data","isList","enableCheckBox","width"]],template:function(n,a){1&n&&(P.j41(0,"ion-content")(1,"div",0)(2,"h2"),P.nrm(3,"i",1),P.EFF(4,"AI powered"),P.k0s(),P.j41(5,"div",2)(6,"textarea",3),P.mxI("ngModelChange",function(o){return P.DH7(a.comment,o)||(a.comment=o),o}),P.k0s()(),P.j41(7,"button",4),P.bIt("click",function(){return a.submitComment()}),P.EFF(8,"Submit"),P.k0s()(),P.DNE(9,np,4,2,"ng-container",5),P.k0s()),2&n&&(P.R7$(6),P.R50("ngModel",a.comment),P.R7$(3),P.Y8G("ngIf",a.onResult))},dependencies:[We.YN,We.me,We.BC,We.vS,De.MD,De.bT,ht.W9,tt.c2],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:30px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:500px;text-align:center;margin:0 auto}h2[_ngcontent-%COMP%]{font-size:24px;color:#333;margin-bottom:20px}.textarea-container[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}textarea[_ngcontent-%COMP%]{width:100%;height:6rem;padding:15px;font-size:16px;border:2px solid #ddd;border-radius:8px;resize:none;outline:none;box-sizing:border-box;transition:border-color .3s ease}textarea[_ngcontent-%COMP%]:focus{border-color:#fdbd4a}button[_ngcontent-%COMP%]{background-color:#fdbd4a;color:#000;border:none;padding:12px 25px;font-size:16px;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#fac158}button[_ngcontent-%COMP%]:active{background-color:#fdbd4a}.submitted-comment[_ngcontent-%COMP%]{margin-top:20px;background-color:#f1f8e9;padding:10px;border-radius:8px;border:1px solid #fdbd4a;color:#333}.loading-container[_ngcontent-%COMP%]{padding-top:40%;justify-content:center;align-items:center;height:100%;width:100%}.loading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-align:center}.text[_ngcontent-%COMP%]{text-align:center}.accordion-container[_ngcontent-%COMP%]{margin:5%}"]}),r})()},7301:(ot,mt,ge)=>{ge.d(mt,{k:()=>We});var P=ge(4438);let We=(()=>{var De;class tt{constructor(){this.loading=!1,this.defaultCategory="personal",this.navigatedThroughTime=!1,this.Workdata=[[{type:"checkbox",Title:"Project",percent:0,data:[["nil","Planning Phase",["Define Project Scope","Gather Requirements","Identify Stakeholders","Develop Project Timeline"],[!1,!1,!1,!1]],["nil","Development Phase",["Create Development Environment","Code Implementation","Testing and Debugging","Integration Testing"],[!1,!1,!1,!1]],["nil","Deployment & Review",["Deploy to Production","Conduct User Training","Gather User Feedback","Post-Deployment Review"],[!1,!1,!1,!1]]],Date:"2024-10-10",noChildCheck:[],childAdded:!0}]],this.Personaldata=[[{type:"checkbox",Title:"Grocery's",percent:0,data:[["nil","Grocery's",["Oil - 1/2litre","Unity Rice - 1kg","Curd - 1/2litre","Biryani Masala - 50g"],[!1,!1,!1,!1]],["nil","Vegetables",["Onion - 1kg","Tomato - 1kg","Brinjal - 1/2kg","Potato - 1/2kg"],[!1,!1,!1,!1]],["nil","Meats",["Egg - 10no","Chicken - 1kg"],[!1,!1]]],Date:"2024-10-11",noChildCheck:[],childAdded:!0}]],this.data=this.Personaldata}addData(x,se){"personal"==se?this.Personaldata.push(x):this.Workdata.push(x)}removeData(x,se){"personal"===se?x>=0&&x<this.Personaldata.length?this.Personaldata.splice(x,1):console.error("Index out of bounds for personal data"):"work"===se?x>=0&&x<this.Workdata.length?this.Workdata.splice(x,1):console.error("Index out of bounds for work data"):console.error("Invalid category")}removeIonElement(x){x&&x.nativeElement&&x.nativeElement.remove()}searcher(x,se){let ie=[],fe=[];return("personal"===se?this.Personaldata:this.Workdata).forEach((Pe,Ie)=>{const He=Pe.filter((N,it)=>!!N.Title.toLowerCase().includes(x)&&(fe.push({groupIndex:Ie,projectIndex:it}),!0));He.length>0&&ie.push(He)}),this.loading=!1,{filteredProjects:ie,filteredIndexes:fe}}searcherDate(x,se){let te=[],ie=[],fe="personal"===se?this.Personaldata:this.Workdata;return this.loading=!0,fe.forEach((Pe,Ie)=>{Pe.forEach((He,N)=>{let it=Ie*Pe.length+N;He.Date===x&&(te.push(He),ie.push(it))})}),this.loading=!1,{items:te,indices:ie}}}return(De=tt).\u0275fac=function(x){return new(x||De)},De.\u0275prov=P.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),tt})()},7592:ot=>{const mt=typeof Buffer<"u",ge=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,P=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function We(x,se,te){null==te&&null!==se&&"object"==typeof se&&(te=se,se=void 0),mt&&Buffer.isBuffer(x)&&(x=x.toString()),x&&65279===x.charCodeAt(0)&&(x=x.slice(1));const ie=JSON.parse(x,se);if(null===ie||"object"!=typeof ie)return ie;const fe=te&&te.protoAction||"error",Pe=te&&te.constructorAction||"error";if("ignore"===fe&&"ignore"===Pe)return ie;if("ignore"!==fe&&"ignore"!==Pe){if(!1===ge.test(x)&&!1===P.test(x))return ie}else if("ignore"!==fe&&"ignore"===Pe){if(!1===ge.test(x))return ie}else if(!1===P.test(x))return ie;return De(ie,{protoAction:fe,constructorAction:Pe,safe:te&&te.safe})}function De(x,{protoAction:se="error",constructorAction:te="error",safe:ie}={}){let fe=[x];for(;fe.length;){const Pe=fe;fe=[];for(const Ie of Pe){if("ignore"!==se&&Object.prototype.hasOwnProperty.call(Ie,"__proto__")){if(!0===ie)return null;if("error"===se)throw new SyntaxError("Object contains forbidden prototype property");delete Ie.__proto__}if("ignore"!==te&&Object.prototype.hasOwnProperty.call(Ie,"constructor")&&Object.prototype.hasOwnProperty.call(Ie.constructor,"prototype")){if(!0===ie)return null;if("error"===te)throw new SyntaxError("Object contains forbidden prototype property");delete Ie.constructor}for(const He in Ie){const N=Ie[He];N&&"object"==typeof N&&fe.push(N)}}}return x}function tt(x,se,te){const ie=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return We(x,se,te)}finally{Error.stackTraceLimit=ie}}ot.exports=tt,ot.exports.default=tt,ot.exports.parse=tt,ot.exports.safeParse=function ht(x,se){const te=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return We(x,se,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=te}},ot.exports.scan=De}}]);